webpackJsonp([2],{IN4q:function(e,t,n){var s;!function(s){if(!s.WebVideoCtrl){var r=function(){function r(){this.id=this.createUUID()}var i="100%",a="100%",c="",u="",l={szContainerID:"",szColorProperty:"",szOcxClassId:"clsid:FDF0038A-CF64-4634-81AB-80F0A7946D6C",szMimeTypes:"application/webvideo-plugin-kit",szBasePath:"",iWndowType:1,iPlayMode:2,bWndFull:!0,iPackageType:2,bDebugMode:!1,bNoPlugin:!0,cbSelWnd:null,myCbSelWnd:null,cbDoubleClickWnd:null,cbEvent:null,cbRemoteConfig:null,cbInitPluginComplete:null},d=null,p=0,h=!1,P=[],I=[],f=null,m=null,C=null,v=null,y=this,g=null,S="IPCamera",x="IPDome",D="IPZoom";GetSelectWndInfo=function(e){if(E()){p=e,(t=[]).push("<RealPlayInfo>"),t.push("<SelectWnd>"+e+"</SelectWnd>"),t.push("</RealPlayInfo>"),l.cbSelWnd&&l.cbSelWnd(v.loadXML(t.join("")))}else{var t,n=v.loadXML2(e);if(o.$XML(n).find("SelectWnd",!0).length>0)p=parseInt(o.$XML(n).find("SelectWnd").eq(0).text(),10),null===g&&L(),(t=[]).push("<RealPlayInfo>"),t.push("<SelectWnd>"+p+"</SelectWnd>"),t.push("</RealPlayInfo>"),l.cbSelWnd&&l.cbSelWnd(v.loadXML2(t.join(""))),l.myCbSelWnd&&l.myCbSelWnd(t.join(""));else if(o.$XML(n).find("DoubleClickWnd",!0).length>0){var s=parseInt(o.$XML(n).find("DoubleClickWnd").eq(0).text(),10);h="0"===o.$XML(n).find("IsFullScreen").eq(0).text(),l.cbDoubleClickWnd&&l.cbDoubleClickWnd(s,h)}}},s.WindowDblClick=function(e){h=e,l.cbDoubleClickWnd&&l.cbDoubleClickWnd(p,h)},s.ZoomInfoCallback=function(e){var t=y.findWndIndexByIndex(p);if(-1!=t){var n=I[t];if(-1!=(t=y.findDeviceIndexByIP(n.szDeviceIdentify))){var s=P[t];s.oProtocolInc.set3DZoom(s,n,e,{success:function(e){},error:function(){}})}}},PluginEventHandler=function(e,t,n){E()?l.cbEvent&&l.cbEvent(n,t,""):(b("插件事件：PluginEventHandler iEventType：%s iParam1: %s, iParam2: %s",e,t,n),0==e||2==e?y.I_Stop(t):21==e?y.I_StopRecord(t):3==e&&y.I_StopVoiceTalk(),l.cbEvent&&l.cbEvent(e,t,n))},GetHttpInfo=function(e,t,n){b("http响应返回：http状态：%s, http数据：%s",e,t),j.prototype.processCallback(e,t)},s.RemoteConfigInfo=function(e){l.cbRemoteConfig&&l.cbRemoteConfig(e)},s.KeyBoardEventInfo=function(e){100===parseInt(e,10)&&(h=!1,l.cbDoubleClickWnd&&l.cbDoubleClickWnd(p,h))};var b=function(){if(l.bDebugMode){var e=T(arguments);f._alert(e)}},T=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace("%s",arguments[t]);return e},z=function(e){var t=e.indexOf(":");return t>-1?e.substring(0,t):e},A=function(e){return void 0===e},R=function(e){return"[object Object]"===Object.prototype.toString.call(e)},M=function(){var e="";if(v.browser().msie)e="<object classid='"+l.szOcxClassId+"' codebase='' standby='Waiting...' id='"+c+"' width='"+i+"' height='"+a+"' align='center' ><param name='wndtype' value='"+l.iWndowType+"'><param name='playmode' value='"+l.iPlayMode+"'><param name='colors' value='"+l.szColorProperty+"'></object>";else for(var t=navigator.mimeTypes.length,n=0;t>n;n++)navigator.mimeTypes[n].type.toLowerCase()==l.szMimeTypes&&(e="<embed align='center' type='"+l.szMimeTypes+"' width='"+i+"' height='"+a+"' name='"+u+"' wndtype='"+l.iWndowType+"' playmode='"+l.iPlayMode+"' colors='"+l.szColorProperty+"'>");return e},L=function(){if(!E()&&null!==d){var e=d.HWP_GetLocalConfig();g=v.loadXML2(e)}},q=function(e){y.I_GetDeviceInfo(e.szIP,{success:function(t){e.szDeviceType=o.$XML(t).find("deviceType").eq(0).text()}}),y.I_GetAnalogChannelInfo(e.szIP,{success:function(t){e.iAnalogChannelNum=o.$XML(t).find("VideoInputChannel",!0).length}}),y.I_GetAudioInfo(e.szIP,{success:function(t){var n=o.$XML(t).find("audioCompressionType",!0);if(n.length>0){var s=o.$XML(n).eq(0).text(),r=0;"G.711ulaw"==s?r=1:"G.711alaw"==s?r=2:"G.726"==s?r=3:"MP2L2"==s||"MPEL2"==s?r=4:"G.722.1"==s?r=0:"AAC"==s?r=5:"PCM"==s&&(r=6),e.iAudioType=r}""!==o.$XML(t).find("audioBitRate").eq(0).text()?e.m_iAudioBitRate=1e3*parseInt(o.$XML(t).find("audioBitRate").eq(0).text(),10):e.m_iAudioBitRate=0,""!==o.$XML(t).find("audioSamplingRate").eq(0).text()?e.m_iAudioSamplingRate=1e3*parseInt(o.$XML(t).find("audioSamplingRate").eq(0).text(),10):e.m_iAudioSamplingRate=0}})},W=function(e){e.bSupportWebsocket=!1,e.bSupportSubStreamPlayback=!1,e.oProtocolInc.getSystemCapa(e,{success:function(t){var n=o.$XML(t).find("NetworkCap").eq(0).find("isSupportWebsocket",!0);n.length>0&&(e.bSupportWebsocket="true"===o.$XML(t).find("NetworkCap").eq(0).find("isSupportWebsocket").eq(0).text()),(n=o.$XML(t).find("RacmCap").eq(0).find("isSupportMainAndSubRecord",!0)).length>0&&(e.bSupportSubStreamPlayback="true"===o.$XML(t).find("RacmCap").eq(0).find("isSupportMainAndSubRecord").eq(0).text())}})},G=function(){var e=l.bWndFull?1:0;d.HWP_SetCanFullScreen(e),d.HWP_SetPackageType(l.iPackageType)},w=function(e){var t=null;if(H(e))(t=_(e)).iRtspPort,t.iDevicePort;else{for(var n=X(e),s=!1,r=0;r<n.length;r++)if(n[r].ipv4==e.szIP||n[r].ipv6==e.szIP){s=!0;break}s?t=_(e):-1==(t=k(e)).iRtspPort&&-1==t.iDevicePort&&(t=_(e)),t.iRtspPort,t.iHttpPort,t.iDevicePort}return t},_=function(e){var t=-1,n=-1,s=-1;return e.oProtocolInc.getPortInfo(e,{async:!1,success:function(e){var r=o.$XML(e).find("AdminAccessProtocol",!0);t=554;for(var i=0,a=r.length;a>i;i++)"rtsp"===o.$XML(r).eq(i).find("protocol").eq(0).text().toLowerCase()&&(t=parseInt(o.$XML(r).eq(i).find("portNo").eq(0).text(),10)),"http"===o.$XML(r).eq(i).find("protocol").eq(0).text().toLowerCase()&&(n=parseInt(o.$XML(r).eq(i).find("portNo").eq(0).text(),10)),"dev_manage"===o.$XML(r).eq(i).find("protocol").eq(0).text().toLowerCase()&&(s=parseInt(o.$XML(r).eq(i).find("portNo").eq(0).text(),10))},error:function(){t=-1,n=-1,s=-1}}),{iRtspPort:t,iHttpPort:n,iDevicePort:s}},k=function(e){var t=-1,n=-1,s=-1;return e.oProtocolInc.getUPnPPortStatus(e,{async:!1,success:function(e){for(var r=o.$XML(e).find("portStatus",!0),i=0,a=r.length;a>i;i++)"rtsp"==o.$XML(r).eq(i).find("internalPort").eq(0).text().toLowerCase()&&(t=parseInt(o.$XML(r).eq(i).find("externalPort").eq(0).text(),10)),"http"==o.$XML(r).eq(i).find("internalPort").eq(0).text().toLowerCase()&&(n=parseInt(o.$XML(r).eq(i).find("externalPort").eq(0).text(),10)),"admin"==o.$XML(r).eq(i).find("internalPort").eq(0).text().toLowerCase()&&(s=parseInt(o.$XML(r).eq(i).find("externalPort").eq(0).text(),10))},error:function(){t=-1,n=-1,s=-1}}),{iRtspPort:t,iHttpPort:n,iDevicePort:s}},X=function(e){var t=[];return e.oProtocolInc.getNetworkBond(e,{async:!1,success:function(n){"true"==o.$XML(n).find("enabled").eq(0).text()?t.push({ipv4:o.$XML(n).find("ipAddress").eq(0).text(),ipv6:o.$XML(n).find("ipv6Address").eq(0).text()}):e.oProtocolInc.getNetworkInterface(e,{async:!1,success:function(e){for(var n=0,s=o.$XML(e).find("NetworkInterface",!0).length;s>n;n++){t.push({ipv4:o.$XML(e).find("ipAddress").eq(0).text(),ipv6:o.$XML(e).find("ipv6Address").eq(0).text()});break}},error:function(){}})},error:function(){e.oProtocolInc.getNetworkInterface(e,{async:!1,success:function(e){for(var n=0,s=o.$XML(e).find("NetworkInterface",!0).length;s>n;n++){t.push({ipv4:o.$XML(e).find("ipAddress").eq(0).text(),ipv6:o.$XML(e).find("ipv6Address").eq(0).text()});break}},error:function(){}})}}),t},H=function(e){var t=!1;return e.oProtocolInc.getPPPoEStatus(e,{async:!1,success:function(e){t=o.$XML(e).find("ipAddress",!0).length>0||o.$XML(e).find("ipv6Address",!0).length>0},error:function(){t=!1}}),t},Z=function(e){e.oStreamCapa.bObtained||e.oProtocolInc instanceof O&&e.oProtocolInc.getSDKCapa(e,{async:!1,success:function(t){e.oStreamCapa.bObtained=!0,e.oStreamCapa.bSupportShttpPlay="true"===o.$XML(t).find("isSupportHttpPlay").eq(0).text(),e.oStreamCapa.bSupportShttpPlayback="true"===o.$XML(t).find("isSupportHttpPlayback").eq(0).text(),e.oStreamCapa.bSupportShttpsPlay="true"===o.$XML(t).find("isSupportHttpsPlay").eq(0).text(),e.oStreamCapa.bSupportShttpsPlayback="true"===o.$XML(t).find("isSupportHttpsPlayback").eq(0).text(),e.oStreamCapa.bSupportShttpPlaybackTransCode="true"===o.$XML(t).find("isSupportHttpTransCodePlayback").eq(0).text(),e.oStreamCapa.bSupportShttpsPlaybackTransCode="true"===o.$XML(t).find("isSupportHttpsTransCodePlayback").eq(0).text(),o.$XML(t).find("ipChanBase",!0).length>0&&(e.oStreamCapa.iIpChanBase=parseInt(o.$XML(t).find("ipChanBase").eq(0).text(),10))},error:function(){e.oStreamCapa.bObtained=!0}})},E=function(){if(l.bNoPlugin){var e=v.browser();return!!(e.chrome&&parseInt(e.version,10)>45||e.mozilla&&parseInt(e.version,10)>52)}return!1},B=function(e){var t=location.hostname,n=location.port||"80";return/^(http|https):\/\/([^\/]+)(.+)$/.test(e)&&(e=e.replace(RegExp.$2,t+":"+n)),v.cookie("webVideoCtrlProxy",RegExp.$2,{raw:!0}),e},N=function(){var e="<ResponseStatus>";return e+="<requestURL></requestURL>",e+="<statusCode>4</statusCode>",e+="<statusString>Invalid Operation</statusString>",e+="<subStatusCode>notSupport</subStatusCode>",e+="</ResponseStatus>",v.loadXML(e)};this.I_InitPlugin=function(r,o,c){if(i=r,a=o,v.extend(l,c),E()){var u=v.getDirName();u&&("object"==typeof t&&void 0!==e||n.e(16).then(function(){var e=[!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()];(function(e){s.JSPlugin=e.JSPlugin,c.cbInitPluginComplete&&c.cbInitPluginComplete()}).apply(null,e)}).catch(n.oe)),addEventListener("resize",function(){null!==d&&d.JS_Resize(i,a)}),A(document.fullScreen)?A(document.webkitIsFullScreen)?A(document.mozFullScreen)||document.addEventListener("mozfullscreenchange",function(e){var t=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||!1;h&&!t&&s.KeyBoardEventInfo(100)}):document.addEventListener("webkitfullscreenchange",function(e){var t=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||!1;h&&!t&&s.KeyBoardEventInfo(100)}):document.addEventListener("fullscreenchange",function(e){var t=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||!1;h&&!t&&s.KeyBoardEventInfo(100)}),addEventListener("unload",function(){null!==d&&d.JS_DestroyWorker()})}else c.cbInitPluginComplete&&c.cbInitPluginComplete()},this.I_InsertOBJECTPlugin=function(e){if(A(e)||(l.szContainerID=e),null==document.getElementById(l.szContainerID))return-1;if(null!=document.getElementById(c)||0!=document.getElementsByName(c).length)return-1;if(E()){var t={szId:e,iType:1,iWidth:i,iHeight:a,iMaxSplit:4,iCurrentSplit:l.iWndowType,szBasePath:v.getDirName()},n=l.szColorProperty;if(""!=n){for(var r={},o=n.split(";"),p="",h=0,P=o.length;P>h;h++)(p=o[h]).indexOf("sub-background")>-1?r.background=p.split(":")[1]:p.indexOf("sub-border-select")>-1?r.borderSelect=p.split(":")[1]:p.indexOf("sub-border")>-1&&(r.border=p.split(":")[1]);t.oStyle=r}d=new JSPlugin(t)}else document.getElementById(l.szContainerID).innerHTML=M(),d=v.browser().msie?document.getElementById(c):document.getElementsByName(u)[0];return null==d&&null==d.object?-1:("object"==typeof s.attachEvent&&v.browser().msie&&(d.attachEvent("GetSelectWndInfo",GetSelectWndInfo),d.attachEvent("ZoomInfoCallback",ZoomInfoCallback),d.attachEvent("GetHttpInfo",GetHttpInfo),d.attachEvent("PluginEventHandler",PluginEventHandler),d.attachEvent("RemoteConfigInfo",RemoteConfigInfo),d.attachEvent("KeyBoardEventInfo",KeyBoardEventInfo)),L(),0)},this.I_WriteOBJECT_XHTML=function(){return E()?-1:(document.writeln(M()),null==(d=v.browser().msie?document.getElementById(c):document.getElementsByName(u)[0])&&null==d.object?-1:("object"==typeof s.attachEvent&&v.browser().msie&&(d.attachEvent("GetSelectWndInfo",GetSelectWndInfo),d.attachEvent("ZoomInfoCallback",ZoomInfoCallback),d.attachEvent("GetHttpInfo",GetHttpInfo),d.attachEvent("PluginEventHandler",PluginEventHandler),d.attachEvent("RemoteConfigInfo",RemoteConfigInfo),d.attachEvent("KeyBoardEventInfo",KeyBoardEventInfo)),L(),0))},this.I_OpenFileDlg=function(e){var t="";if(E())return t;if(null==(t=d.HWP_OpenFileBrowser(e,"")))return"";if(1==e){if(t.length>100)return-1}else if(t.length>130)return-1;return t},this.I_GetLocalCfg=function(){var e=null;if(E())return e;var t=d.HWP_GetLocalConfig(),n=[];return g=v.loadXML(t),n.push("<LocalConfigInfo>"),n.push("<ProtocolType>"+o.$XML(g).find("ProtocolType").eq(0).text()+"</ProtocolType>"),n.push("<PackgeSize>"+o.$XML(g).find("PackgeSize").eq(0).text()+"</PackgeSize>"),n.push("<PlayWndType>"+o.$XML(g).find("PlayWndType").eq(0).text()+"</PlayWndType>"),n.push("<BuffNumberType>"+o.$XML(g).find("BuffNumberType").eq(0).text()+"</BuffNumberType>"),n.push("<RecordPath>"+o.$XML(g).find("RecordPath").eq(0).text()+"</RecordPath>"),n.push("<CapturePath>"+o.$XML(g).find("CapturePath").eq(0).text()+"</CapturePath>"),n.push("<PlaybackFilePath>"+o.$XML(g).find("PlaybackFilePath").eq(0).text()+"</PlaybackFilePath>"),n.push("<PlaybackPicPath>"+o.$XML(g).find("PlaybackPicPath").eq(0).text()+"</PlaybackPicPath>"),n.push("<DeviceCapturePath>"+o.$XML(g).find("DeviceCapturePath").eq(0).text()+"</DeviceCapturePath>"),n.push("<DownloadPath>"+o.$XML(g).find("DownloadPath").eq(0).text()+"</DownloadPath>"),n.push("<IVSMode>"+o.$XML(g).find("IVSMode").eq(0).text()+"</IVSMode>"),n.push("<CaptureFileFormat>"+o.$XML(g).find("CaptureFileFormat").eq(0).text()+"</CaptureFileFormat>"),n.push("</LocalConfigInfo>"),v.loadXML(n.join(""))},this.I_SetLocalCfg=function(e){if(E())return-1;var t=v.loadXML(e);return o.$XML(g).find("ProtocolType").eq(0).text(o.$XML(t).find("ProtocolType").eq(0).text()),o.$XML(g).find("PackgeSize").eq(0).text(o.$XML(t).find("PackgeSize").eq(0).text()),o.$XML(g).find("PlayWndType").eq(0).text(o.$XML(t).find("PlayWndType").eq(0).text()),o.$XML(g).find("BuffNumberType").eq(0).text(o.$XML(t).find("BuffNumberType").eq(0).text()),o.$XML(g).find("RecordPath").eq(0).text(o.$XML(t).find("RecordPath").eq(0).text()),o.$XML(g).find("CapturePath").eq(0).text(o.$XML(t).find("CapturePath").eq(0).text()),o.$XML(g).find("PlaybackFilePath").eq(0).text(o.$XML(t).find("PlaybackFilePath").eq(0).text()),o.$XML(g).find("DeviceCapturePath").eq(0).text(o.$XML(t).find("DeviceCapturePath").eq(0).text()),o.$XML(g).find("PlaybackPicPath").eq(0).text(o.$XML(t).find("PlaybackPicPath").eq(0).text()),o.$XML(g).find("DownloadPath").eq(0).text(o.$XML(t).find("DownloadPath").eq(0).text()),o.$XML(g).find("IVSMode").eq(0).text(o.$XML(t).find("IVSMode").eq(0).text()),o.$XML(g).find("CaptureFileFormat").eq(0).text(o.$XML(t).find("CaptureFileFormat").eq(0).text()),d.HWP_SetLocalConfig(v.toXMLStr(g))?0:-1};var F=function(e,t,n,s,r,o,i){var a={protocol:t,success:null,error:null};v.extend(a,i),v.extend(a,{success:function(a){var c=new U;c.szIP=e,2==t?(c.szHttpProtocol="https://",c.iHttpsPort=n):(c.szHttpProtocol="http://",c.iHttpPort=n),c.iCGIPort=n,c.szDeviceIdentify=e+"_"+n,c.szAuth=s,c.iDeviceProtocol=r,c.oProtocolInc=o,P.push(c),b("使用%s协议登录成功",r),q(c),G(),W(c),i.success&&i.success(a)},error:function(e,t){i.error&&i.error(e,t)}}),o.login(e,n,s,a)};this.I_Login=function(e,t,n,r,i,a){var c=e+"_"+n;if(-1!=this.findDeviceIndexByIP(c))return b("设备已经登录过"),-1;var u=m,l=1;if(A(a.cgi)||(1==a.cgi?(u=m,l=1):(u=C,l=2)),E())if(1==l){var d={success:null,error:null};v.extend(d,{success:function(c){var d={success:null,error:null};v.extend(d,{success:function(r){var i=new U;i.szIP=e,2==t?(i.szHttpProtocol="https://",i.iHttpsPort=n):(i.szHttpProtocol="http://",i.iHttpPort=n),i.iCGIPort=n,i.szDeviceIdentify=e+"_"+n,i.szAuth=o.$XML(r).find("sessionID").eq(0).text(),i.iDeviceProtocol=l,i.oProtocolInc=u,P.push(i),b("使用%s协议登录成功",l),q(i),W(i),i.sessionFailed=0,i.sesstionTimer=setInterval(function(){u.sessionHeartbeat(i,function(){i.sessionFailed=0},function(){i.sessionFailed++,i.sessionFailed>=5&&(clearInterval(i.sesstionTimer),s.PluginEventHandler(-1,i.szDeviceIdentify))})},3e4),a.success&&a.success(r)},error:function(e,t){a.error&&a.error(e,t)}}),u.sessionLogin(e,t,n,r,i,c,d)},error:function(e,t){a.error&&a.error(e,t)}}),u.getSessionCap(e,t,n,r,d)}else a.error&&a.error(403,N());else{var p="";if(1==l){p=v.Base64.encode(":"+r+":"+i);d={success:null,error:null};v.extend(d,a),v.extend(d,{error:function(s,o){p=v.Base64.encode(r+":"+i),l=1,u=m;var c={success:null,error:null};v.extend(c,a),v.extend(c,{error:function(){if(A(a.cgi)){p=v.Base64.encode(":"+r+":"+i),l=2,u=C;var c={success:null,error:null};v.extend(c,a),v.extend(c,{error:function(s,o){p=v.Base64.encode(r+":"+i),l=2,u=C;var c={success:null,error:null};v.extend(c,a),v.extend(c,{error:function(){a.error&&a.error(s,o)}}),F(e,t,n,p,l,u,c)}}),F(e,t,n,p,l,u,c)}else a.error&&a.error(s,o)}}),F(e,t,n,p,l,u,c)}}),F(e,t,n,p,l,u,d)}else{p=v.Base64.encode(":"+r+":"+i),l=2,u=C;d={success:null,error:null};v.extend(d,a),v.extend(d,{error:function(s,o){p=v.Base64.encode(r+":"+i),l=2,u=C;var c={success:null,error:null};v.extend(c,a),v.extend(c,{error:function(){a.error&&a.error(s,o)}}),F(e,t,n,p,l,u,c)}}),F(e,t,n,p,l,u,d)}}},this.I_Logout=function(e){var t=this.findDeviceIndexByIP(e);if(-1!=t){if(E()){var n=P[t];clearInterval(n.sesstionTimer),n.oProtocolInc.sessionLogout(n,{})}return P.splice(t,1),0}return-1},this.I_GetAudioInfo=function(e,t){var n=this.findDeviceIndexByIP(e);if(-1!=n){var s=P[n],r={success:null,error:null};v.extend(r,t),s.oProtocolInc.getAudioInfo(s,r)}},this.I_GetDeviceInfo=function(e,t){var n=this.findDeviceIndexByIP(e);if(-1!=n){var s=P[n],r={success:null,error:null};v.extend(r,t),s.oProtocolInc.getDeviceInfo(s,r)}},this.I_GetAnalogChannelInfo=function(e,t){var n=this.findDeviceIndexByIP(e);if(-1!=n){var s=P[n],r={success:null,error:null};v.extend(r,t),s.oProtocolInc.getAnalogChannelInfo(s,r)}},this.I_GetDigitalChannelInfo=function(e,t){var n=this.findDeviceIndexByIP(e);if(-1!=n){var s=P[n],r={success:null,error:null};v.extend(r,t),s.oProtocolInc.getDigitalChannelInfo(s,r)}},this.I_GetZeroChannelInfo=function(e,t){var n=this.findDeviceIndexByIP(e);if(-1!=n){var s=P[n],r={success:null,error:null};v.extend(r,t),s.oProtocolInc.getZeroChannelInfo(s,r)}},this.I_StartRealPlay=function(e,t){var n=this.findDeviceIndexByIP(e),s="",r="",i=-1,a=0,c=0,u=!1,l={iWndIndex:p,iStreamType:1,iChannelID:1,bZeroChannel:!1};if(v.extend(l,t),-1!=n){Z(P[n]);var d=P[n];if(E()){if(!d.bSupportWebsocket)return void(t.error&&t.error(403,N()));s=d.oProtocolInc.CGI.startWsRealPlay,r="ws://",A(l.iWSPort)?d.iWSPort=7681:d.iWSPort=l.iWSPort,i=d.iWSPort,c=l.iStreamType,a=l.iChannelID<=d.iAnalogChannelNum?l.iChannelID:d.oStreamCapa.iIpChanBase+parseInt(l.iChannelID,10)-d.iAnalogChannelNum-1,u=!0}else{0==parseInt(o.$XML(g).find("ProtocolType").eq(0).text(),10)&&d.oStreamCapa.bSupportShttpPlay?(b("SHTTP RealPlay"),s=d.oProtocolInc.CGI.startShttpRealPlay,r="http://",c=l.iStreamType-1,a=l.iChannelID<=d.iAnalogChannelNum?l.iChannelID:d.oStreamCapa.iIpChanBase+parseInt(l.iChannelID,10)-d.iAnalogChannelNum-1,u=!0,A(l.iPort)?"https://"==d.szHttpProtocol?(-1==d.iHttpPort&&(d.iHttpPort=w(d).iHttpPort),i=d.iHttpPort):i=d.iCGIPort:(d.iHttpPort=l.iPort,i=l.iPort)):(b("RTSP RealPlay"),s=d.oProtocolInc.CGI.startRealPlay,r="rtsp://",c=l.iStreamType,a=l.iChannelID,A(l.iRtspPort)||(d.iRtspPort=l.iRtspPort),-1==d.iRtspPort&&(d.iRtspPort=w(d).iRtspPort),i=d.iRtspPort)}if(-1==i)return b("获取端口号失败"),void(t.error&&t.error());if(v.extend(l,{urlProtocol:r,cgi:s,iPort:i,iStreamType:c,iChannelID:a}),-1==(n=this.findWndIndexByIndex(l.iWndIndex)))if(E())d.oProtocolInc.startRealPlay(d,l).then(function(){n=this.findWndIndexByIndex(l.iWndIndex),I[n].bShttpIPChannel=u,t.success&&t.success()},function(){t.error&&t.error()});else{if(0==d.oProtocolInc.startRealPlay(d,l))n=this.findWndIndexByIndex(l.iWndIndex),I[n].bShttpIPChannel=u,t.success&&t.success();else d.iRtspPort=-1,t.error&&t.error()}}else t.error&&t.error()},this.I_Stop=function(e){var t={iWndIndex:p};R(e)?v.extend(t,e):A(e)||(t.iWndIndex=e);var n=this.findWndIndexByIndex(t.iWndIndex);if(-1!=n){var s=I[n];if(s.bRecord&&(E()||d.HWP_StopSave(s.iIndex)),s.bSound&&(E()||d.HWP_CloseSound()),s.bEZoom&&(E()||d.HWP_DisableZoom(s.iIndex)),E())d.JS_Stop(t.iWndIndex).then(function(){I.splice(n,1),t.success&&t.success()},function(){t.error&&t.error()});else 0==d.HWP_Stop(t.iWndIndex)?(I.splice(n,1),t.success&&t.success()):t.error&&t.error()}else t.error&&t.error()},this.I_OpenSound=function(e){e=A(e)?p:e;var t=this.findWndIndexByIndex(e),n=-1;if(-1!=t){var s=I[t];s.bSound||0==(n=E()?d.JS_OpenSound(e):d.HWP_OpenSound(e))&&(s.bSound=!0)}return n},this.I_CloseSound=function(e){e=A(e)?p:e;var t=this.findWndIndexByIndex(e),n=-1;if(-1!=t){var s=I[t];s.bSound&&(0==(n=E()?d.JS_CloseSound():d.HWP_CloseSound())&&(s.bSound=!1))}return n},this.I_SetVolume=function(e,t){var n=-1;return e=parseInt(e,10),isNaN(e)?n:0>e||e>100?n:(t=A(t)?p:t,-1!=this.findWndIndexByIndex(t)&&(E()?(d.JS_SetVolume(t,e),n=0):n=d.HWP_SetVolume(t,e)),n)},this.I_CapturePic=function(e,t){var n={iWndIndex:p,bDateDir:!0};R(t)?v.extend(n,t):A(t)||(n.iWndIndex=t);var s=-1;if(-1!=this.findWndIndexByIndex(n.iWndIndex))if(E()){var r="JPEG";".jpg"===e.slice(-4).toLowerCase()?e=e.slice(0,-4):".jpeg"===e.slice(-5).toLowerCase()?e=e.slice(0,-5):".bmp"===e.slice(-4).toLowerCase()&&(e=e.slice(0,-4),r="BMP"),s=d.JS_CapturePicture(n.iWndIndex,e,r)}else".jpg"===e.slice(-4).toLowerCase()?e=e.slice(0,-4):".jpeg"===e.slice(-5).toLowerCase()&&(e=e.slice(0,-5)),s=d.HWP_CapturePicture(n.iWndIndex,e,n.bDateDir);return s},this.I_StartRecord=function(e,t){var n={iWndIndex:p,bDateDir:!0};R(t)?v.extend(n,t):A(t)||(n.iWndIndex=t);var s=this.findWndIndexByIndex(n.iWndIndex);if(-1!=s){var r=I[s];if(r.bRecord)n.error&&n.error();else if(E()){v.browser().chrome?d.JS_StartSave(n.iWndIndex,e).then(function(){r.bRecord=!0,n.success&&n.success()},function(){n.error&&n.error()}):n.error&&n.error()}else{0==d.HWP_StartSave(n.iWndIndex,e,n.bDateDir)?(r.bRecord=!0,n.success&&n.success()):n.error&&n.error()}}else n.error&&n.error()},this.I_StopRecord=function(e){var t={iWndIndex:p};R(e)?v.extend(t,e):A(e)||(t.iWndIndex=e);var n=this.findWndIndexByIndex(t.iWndIndex);if(-1!=n){var s=I[n];if(s.bRecord)if(E()){v.browser().chrome?d.JS_StopSave(t.iWndIndex).then(function(){s.bRecord=!1,t.success&&t.success()},function(){t.error&&t.error()}):t.error&&t.error()}else{0==d.HWP_StopSave(t.iWndIndex)?(s.bRecord=!1,t.success&&t.success()):t.error&&t.error()}else t.error&&t.error()}else t.error&&t.error()},this.I_StartVoiceTalk=function(e,t){if(isNaN(parseInt(t,10)))return-1;var n=this.findDeviceIndexByIP(e),s=-1;if(-1!=n){var r=P[n];r.bVoiceTalk||0==(s=E()?-1:r.oProtocolInc.startVoiceTalk(r,t))&&(P[n].bVoiceTalk=!0)}return s},this.I_StopVoiceTalk=function(){var e=-1;if(!E()){e=d.HWP_StopVoiceTalk();for(var t=0,n=P.length;n>t;t++)if(P[t].bVoiceTalk){P[t].bVoiceTalk=!1;break}}return e},this.I_PTZControl=function(e,t,n){var s={iWndIndex:p,iPTZIndex:e,iPTZSpeed:4};v.extend(s,n),v.extend(s,{async:!1});var r=this.findWndIndexByIndex(s.iWndIndex);if(-1!=r){var o=I[r];if(-1!=(r=this.findDeviceIndexByIP(o.szIP))){var i=P[r];9==e?i.oProtocolInc.ptzAutoControl(i,t,o,s):i.oProtocolInc.ptzControl(i,t,o,s)}}},this.I_EnableEZoom=function(e){e=A(e)?p:e;var t=this.findWndIndexByIndex(e),n=-1;if(-1!=t){var s=I[t];s.bEZoom||0==(n=E()?d.JS_EnableZoom(e):d.HWP_EnableZoom(e,0))&&(s.bEZoom=!0)}return n},this.I_DisableEZoom=function(e){e=A(e)?p:e;var t=this.findWndIndexByIndex(e),n=-1;if(-1!=t){var s=I[t];s.bEZoom&&(E()?n=d.JS_DisableZoom(e):(d.HWP_DisableZoom(e),n=0),0==n&&(s.bEZoom=!1))}return n},this.I_Enable3DZoom=function(e){e=A(e)?p:e;var t=this.findWndIndexByIndex(e),n=-1;if(-1!=t){var s=I[t];s.b3DZoom||0==(n=E()?-1:d.HWP_EnableZoom(e,1))&&(s.b3DZoom=!0)}return n},this.I_Disable3DZoom=function(e){e=A(e)?p:e;var t=this.findWndIndexByIndex(e),n=-1;if(-1!=t){var s=I[t];s.b3DZoom&&(E()?n=-1:(d.HWP_DisableZoom(e),n=0),0==n&&(s.b3DZoom=!1))}return n},this.I_FullScreen=function(e){E()?d.JS_FullScreenDisplay(e):d.HWP_FullScreenDisplay(e)},this.I_SetPreset=function(e,t){var n={iWndIndex:p,iPresetID:e};v.extend(n,t);var s=this.findWndIndexByIndex(n.iWndIndex);if(-1!=s){var r=I[s];if(-1!=(s=this.findDeviceIndexByIP(r.szIP))){var o=P[s];o.oProtocolInc.setPreset(o,r,n)}}},this.I_GoPreset=function(e,t){var n={iWndIndex:p,iPresetID:e};v.extend(n,t);var s=this.findWndIndexByIndex(n.iWndIndex);if(-1!=s){var r=I[s];if(-1!=(s=this.findDeviceIndexByIP(r.szIP))){var o=P[s];o.oProtocolInc.goPreset(o,r,n)}}},this.I_RecordSearch=function(e,t,n,s,r){var o=this.findDeviceIndexByIP(e);if(-1!=o){var i=P[o],a={iChannelID:t,szStartTime:n,szEndTime:s,iSearchPos:0,iStreamType:1,success:null,error:null};v.extend(a,r),i.oProtocolInc.recordSearch(i,a)}},this.I_StartPlayback=function(e,t){var n=this.findDeviceIndexByIP(e),s="",r="",i=-1,a=1,c=0,u=v.dateFormat(new Date,"yyyy-MM-dd"),l={iWndIndex:p,iStreamType:1,iChannelID:1,szStartTime:u+" 00:00:00",szEndTime:u+" 23:59:59"};if(v.extend(l,t),-1!=n){Z(P[n]);var d=P[n];if(E()){if(!d.bSupportWebsocket)return void(t.error&&t.error(403,N()));if(!A(l.oTransCodeParam))return void(t.error&&t.error());s=d.oProtocolInc.CGI.startWsPlayback,r="ws://",A(l.iWSPort)?d.iWSPort=7681:d.iWSPort=l.iWSPort,i=d.iWSPort,c=l.iStreamType,a=100*(a=l.iChannelID<=d.iAnalogChannelNum?l.iChannelID:d.oStreamCapa.iIpChanBase+parseInt(l.iChannelID,10)-d.iAnalogChannelNum-1)+c}else{0==parseInt(o.$XML(g).find("ProtocolType").eq(0).text(),10)&&d.oStreamCapa.bSupportShttpPlay?(s=A(l.oTransCodeParam)?d.oProtocolInc.CGI.startShttpPlayback:d.oProtocolInc.CGI.startTransCodePlayback,r="http://",c=l.iStreamType-1,a=l.iChannelID<=d.iAnalogChannelNum?l.iChannelID:d.oStreamCapa.iIpChanBase+parseInt(l.iChannelID,10)-d.iAnalogChannelNum-1,d.bSupportSubStreamPlayback&&(a=100*a+c),A(l.iPort)?"https://"==d.szHttpProtocol?(-1==d.iHttpPort&&(d.iHttpPort=w(d).iHttpPort),i=d.iHttpPort):i=d.iCGIPort:(d.iHttpPort=l.iPort,i=l.iPort)):(s=d.oProtocolInc.CGI.startPlayback,r="rtsp://",c=l.iStreamType,a=100*l.iChannelID+c,A(l.iRtspPort)||(d.iRtspPort=l.iRtspPort),-1==d.iRtspPort&&(d.iRtspPort=w(d).iRtspPort),i=d.iRtspPort)}if(-1==i)return b("获取端口号失败"),void(t.error&&t.error());if(v.extend(l,{urlProtocol:r,cgi:s,iPort:i,iChannelID:a}),-1==(n=this.findWndIndexByIndex(l.iWndIndex)))if(E())l.szStartTime=l.szStartTime.replace(" ","T")+"Z",l.szEndTime=l.szEndTime.replace(" ","T")+"Z",d.oProtocolInc.startPlayback(d,l).then(function(){t.success&&t.success()},function(){t.error&&t.error()});else{l.szStartTime=l.szStartTime.replace(/[-:]/g,"").replace(" ","T")+"Z",l.szEndTime=l.szEndTime.replace(/[-:]/g,"").replace(" ","T")+"Z",0==d.oProtocolInc.startPlayback(d,l)?t.success&&t.success():(d.iRtspPort=-1,t.error&&t.error())}}else t.error&&t.error()},this.I_ReversePlayback=function(e,t){var n=this.findDeviceIndexByIP(e),s=-1,r="",i="",a=-1,c=-1,u=0,l=v.dateFormat(new Date,"yyyy-MM-dd"),d={iWndIndex:p,iStreamType:1,iChannelID:1,szStartTime:l+" 00:00:00",szEndTime:l+" 23:59:59"};if(v.extend(d,t),-1!=n){Z(P[n]);var h=P[n];if(E())return s;if(0==parseInt(o.$XML(g).find("ProtocolType").eq(0).text(),10)&&h.oStreamCapa.bSupportShttpPlay?(r=h.oProtocolInc.CGI.startShttpReversePlayback,i="http://",u=d.iStreamType-1,c=100*(c=d.iChannelID<=h.iAnalogChannelNum?d.iChannelID:h.oStreamCapa.iIpChanBase+parseInt(d.iChannelID,10)-h.iAnalogChannelNum-1)+u,A(d.iPort)?"https://"==h.szHttpProtocol?(-1==h.iHttpPort&&(h.iHttpPort=w(h).iHttpPort),a=h.iHttpPort):a=h.iCGIPort:(h.iHttpPort=d.iPort,a=d.iPort)):(r=h.oProtocolInc.CGI.startPlayback,i="rtsp://",u=d.iStreamType,c=100*d.iChannelID+u,A(d.iRtspPort)||(h.iRtspPort=d.iRtspPort),-1==h.iRtspPort&&(h.iRtspPort=w(h).iRtspPort),a=h.iRtspPort),-1==a)return b("获取端口号失败"),s;v.extend(d,{urlProtocol:i,cgi:r,iPort:a,iChannelID:c}),-1==(n=this.findWndIndexByIndex(d.iWndIndex))&&(d.szStartTime=d.szStartTime.replace(/[-:]/g,"").replace(" ","T")+"Z",d.szEndTime=d.szEndTime.replace(/[-:]/g,"").replace(" ","T")+"Z",s=h.oProtocolInc.reversePlayback(h,d))}return-1==s&&(h.iRtspPort=-1),s},this.I_Frame=function(e){var t={iWndIndex:p};R(e)?v.extend(t,e):A(e)||(t.iWndIndex=e);var n=this.findWndIndexByIndex(t.iWndIndex);if(-1!=n){var s=I[n],r=s.iPlayStatus;if(2==r||4==r)if(E())d.JS_FrameForward(t.iWndIndex).then(function(){s.iPlayStatus=4,t.success&&t.success()},function(){t.error&&t.error()});else{0==d.HWP_FrameForward(t.iWndIndex)?(s.iPlayStatus=4,t.success&&t.success()):t.error&&t.error()}else t.error&&t.error()}else t.error&&t.error()},this.I_Pause=function(e){var t={iWndIndex:p};R(e)?v.extend(t,e):A(e)||(t.iWndIndex=e);var n=this.findWndIndexByIndex(t.iWndIndex);if(-1!=n){var s=I[n],r=s.iPlayStatus,o=-1;if(2==r)o=3;else{if(5!=r)return void(t.error&&t.error());o=6}if(E())d.JS_Pause(t.iWndIndex).then(function(){s.iPlayStatus=o,t.success&&t.success()},function(){t.error&&t.error()});else 0==d.HWP_Pause(t.iWndIndex)?(s.iPlayStatus=o,t.success&&t.success()):t.error&&t.error()}else t.error&&t.error()},this.I_Resume=function(e){var t={iWndIndex:p};R(e)?v.extend(t,e):A(e)||(t.iWndIndex=e);var n=this.findWndIndexByIndex(t.iWndIndex);if(-1!=n){var s=I[n],r=s.iPlayStatus,o=-1;if(3==r||4==r)o=2;else{if(6!=r)return void(t.error&&t.error());o=5}if(E())d.JS_Resume(t.iWndIndex).then(function(){s.iPlayStatus=o,t.success&&t.success()},function(){t.error&&t.error()});else 0==d.HWP_Resume(t.iWndIndex)?(s.iPlayStatus=o,t.success&&t.success()):t.error&&t.error()}else t.error&&t.error()},this.I_PlaySlow=function(e){var t={iWndIndex:p};R(e)?v.extend(t,e):A(e)||(t.iWndIndex=e);var n=this.findWndIndexByIndex(t.iWndIndex);if(-1!=n)if(2==I[n].iPlayStatus)if(E()){d.JS_GetWndStatus(t.iWndIndex).iRate<=-4?t.error&&t.error():d.JS_Slow(t.iWndIndex).then(function(){t.success&&t.success()},function(){t.error&&t.error()})}else{0==d.HWP_Slow(t.iWndIndex)?t.success&&t.success():t.error&&t.error()}else t.error&&t.error();else t.error&&t.error()},this.I_PlayFast=function(e){var t={iWndIndex:p};R(e)?v.extend(t,e):A(e)||(t.iWndIndex=e);var n=this.findWndIndexByIndex(t.iWndIndex);if(-1!=n)if(2==I[n].iPlayStatus)if(E()){d.JS_GetWndStatus(t.iWndIndex).iRate>=4?t.error&&t.error():d.JS_Fast(t.iWndIndex).then(function(){t.success&&t.success()},function(){t.error&&t.error()})}else{0==d.HWP_Fast(t.iWndIndex)?t.success&&t.success():t.error&&t.error()}else t.error&&t.error();else t.error&&t.error()},this.I_GetOSDTime=function(e){var t={iWndIndex:p};if(R(e)?v.extend(t,e):A(e)||(t.iWndIndex=e),-1!=this.findWndIndexByIndex(t.iWndIndex)){if(E())d.JS_GetOSDTime(t.iWndIndex).then(function(e){if(t.success){var n=v.dateFormat(new Date(1e3*e),"yyyy-MM-dd hh:mm:ss");t.success(n)}},function(){t.error&&t.error()});else if(t.success){var n=d.HWP_GetOSDTime(t.iWndIndex),s=v.dateFormat(new Date(1e3*n),"yyyy-MM-dd hh:mm:ss");t.success(s)}}else t.error&&t.error()},this.I_StartDownloadRecord=function(e,t,n,s){var r=this.findDeviceIndexByIP(e),o=-1;if(-1!=r){var i=P[r],a={szPlaybackURI:t,szFileName:n,bDateDir:!0};A(s)||v.extend(a,s),o=i.oProtocolInc.startDownloadRecord(i,a)}return o},this.I_GetDownloadStatus=function(e){var t=-1;return E()?t:(1==(t=d.HWP_GetDownloadStatus(e))&&(t=-1),t)},this.I_GetDownloadProgress=function(e){return E()?-1:d.HWP_GetDownloadProgress(e)},this.I_StopDownloadRecord=function(e){return E()?-1:d.HWP_StopDownload(e)},this.I_ExportDeviceConfig=function(e){var t=this.findDeviceIndexByIP(e),n=-1;if(-1!=t){var s=P[t];if(E())return n;n=s.oProtocolInc.exportDeviceConfig(s)}return n},this.I_ImportDeviceConfig=function(e,t){var n=this.findDeviceIndexByIP(e),s=-1;if(-1!=n){var r=P[n],o={szFileName:t};if(E())return s;s=r.oProtocolInc.importDeviceConfig(r,o)}return s},this.I_RestoreDefault=function(e,t,n){var s={success:null,error:null};v.extend(s,n);var r=this.findDeviceIndexByIP(e);if(-1!=r){var o=P[r];o.oProtocolInc.restore(o,t,s)}},this.I_Restart=function(e,t){var n=this.findDeviceIndexByIP(e),s={success:null,error:null};if(v.extend(s,t),-1!=n){var r=P[n];r.oProtocolInc.restart(r,s)}},this.I_Reconnect=function(e,t){var n=this.findDeviceIndexByIP(e),s={success:null,error:null};if(v.extend(s,t),-1!=n){var r=P[n];r.oProtocolInc.login(r.szIP,r.iCGIPort,r.szAuth,s)}},this.I_StartUpgrade=function(e,t){var n=this.findDeviceIndexByIP(e),s=-1;if(-1!=n){var r=P[n],o={szFileName:t};if(E())return s;s=r.oProtocolInc.startUpgrade(r,o)}return s},this.I_UpgradeStatus=function(){return E()?-1:d.HWP_UpgradeStatus()},this.I_UpgradeProgress=function(){return E()?-1:d.HWP_UpgradeProgress()},this.I_StopUpgrade=function(){return E()?-1:d.HWP_StopUpgrade()},this.I_CheckPluginInstall=function(){var e=-1,t=v.browser();if(E())e=0;else if(t.msie)try{new ActiveXObject("WebVideoKitActiveX.WebVideoKitActiveXCtrl.1"),e=0}catch(e){}else for(var n=0,s=navigator.mimeTypes.length;s>n;n++)if("application/webvideo-plugin-kit"==navigator.mimeTypes[n].type.toLowerCase()){e=0;break}return e},this.I_CheckPluginVersion=function(){return E()?0:d.HWP_CheckPluginUpdate("<?xml version='1.0' encoding='utf-8'?><FileVersion><Platform name='win32'><npWebVideoKitPlugin.dll>3,0,6,2</npWebVideoKitPlugin.dll><WebVideoKitActiveX.ocx>3,0,6,2</WebVideoKitActiveX.ocx><PlayCtrl.dll>7,3,3,61</PlayCtrl.dll><StreamTransClient.dll>1,1,3,6</StreamTransClient.dll><SystemTransform.dll>2,5,2,8</SystemTransform.dll><NetStream.dll>1,0,5,59</NetStream.dll></Platform></FileVersion>")?-1:0},this.I_SendHTTPRequest=function(e,t,n){var s=this.findDeviceIndexByIP(e);if(!(0>s)){var r=P[s],o=new j,i={type:"GET",url:r.szHttpProtocol+r.szIP+":"+r.iCGIPort+"/"+t,auth:r.szAuth,success:null,error:null};v.extend(i,n),v.extend(i,{success:function(e){n.success&&n.success(e)},error:function(e,t){n.error&&n.error(e,t)}}),o.setRequestParam(i),o.submitRequest()}},this.I_RemoteConfig=function(e,t){var n=this.findDeviceIndexByIP(e),s=-1;if(E())return-1;var r={iLan:0,iDevicePort:-1,iType:0};if(v.extend(r,t),-1!=n){var o=P[n];if(-1==r.iDevicePort)if(-1==o.iDevicePort){if(o.iDevicePort=w(o).iDevicePort,-1==(s=o.iDevicePort))return-1}else s=o.iDevicePort;else s=r.iDevicePort;if(":"==v.Base64.decode(o.szAuth)[0])var i=v.Base64.decode(o.szAuth).split(":")[1],a=v.Base64.decode(o.szAuth).split(":")[2];else i=v.Base64.decode(o.szAuth).split(":")[0],a=v.Base64.decode(o.szAuth).split(":")[1];var c="<RemoteInfo><DeviceInfo><DeviceType>"+r.iType+"</DeviceType><LanType>"+r.iLan+"</LanType><IP>"+o.szIP+"</IP><Port>"+s+"</Port><UName>"+i+"</UName><PWD>"+v.Base64.encode(a)+"</PWD></DeviceInfo></RemoteInfo>";return d.HWP_ShowRemConfig(c)}return-1},this.I_ChangeWndNum=function(e){return isNaN(parseInt(e,10))?-1:(E()?d.JS_ArrangeWindow(e):d.HWP_ArrangeWindow(e),0)},this.I_GetLastError=function(){return E()?-1:d.HWP_GetLastError()},this.I_GetWindowStatus=function(e){if(A(e)){var t=[];return v.extend(t,I),t}var n=this.findWndIndexByIndex(e);if(-1!=n){t={};return v.extend(t,I[n]),t}return null},this.I_GetIPInfoByMode=function(e,t,n,s){return E()?"":d.HWP_GetIpInfoByMode(e,t,n,s)},this.I_SetPlayModeType=function(e){return E()?-1:d.HWP_SetPlayModeType(e)},this.I_SetSnapDrawMode=function(e,t){return E()?-1:d.HWP_SetSnapDrawMode(e,t)},this.I_SetSnapPolygonInfo=function(e,t){if(E())return-1;var n,s,r,i,a,c,u,l,p,h,P,I=d.HWP_GetSnapPolygonInfo(e);n=v.loadXML(I);var f=(s=o.$XML(n).find("SnapPolygon",!0)).length,m=[];for(r=0,i=s.length;i>r;r++)a=s[r],m.push(o.$XML(a).find("id").eq(0).text());var C=m.join(",");if(C=","+C+",",n=v.loadXML(t),f+(s=o.$XML(n).find("SnapPolygon",!0)).length>32)return-3;for(r=0,i=s.length;i>r;r++){if(a=s[r],c=o.$XML(a).find("id").eq(0).text(),!v.isInt(c))return-2;if(1>(u=parseInt(c,10))||u>32)return-2;if(C.indexOf(","+c+",")>-1)return-4;if(o.$XML(a).find("tips").eq(0).text().length>32)return-2;if(!("true"===o.$XML(a).find("isClosed").eq(0).text())){if(l=o.$XML(a).find("MinClosed").eq(0).text(),!v.isInt(l))return-2;if(4>(p=parseInt(l,10))||p>17)return-2;if(h=o.$XML(a).find("PointNumMax").eq(0).text(),!v.isInt(h))return-2;if(p>(P=parseInt(h,10))||P>17)return-2}}return d.HWP_SetSnapPolygonInfo(e,t)},this.I_GetSnapPolygonInfo=function(e){return E()?"":d.HWP_GetSnapPolygonInfo(e)},this.I_ClearSnapInfo=function(e){return E()?-1:d.HWP_ClearSnapInfo(e,1)},this.I_DeviceCapturePic=function(e,t,n,s){var r=this.findDeviceIndexByIP(e),o=-1;if(-1!=r){var i=P[r],a={bDateDir:!0};if(v.extend(a,s),!A(a.iResolutionWidth)&&!v.isInt(a.iResolutionWidth))return o;if(!A(a.iResolutionHeight)&&!v.isInt(a.iResolutionHeight))return o;o=i.oProtocolInc.deviceCapturePic(i,t,n,a)}return o},this.I_SetPackageType=function(e){return E()?-1:d.HWP_SetPackageType(e)},this.I_GetDevicePort=function(e){var t=this.findDeviceIndexByIP(e),n=null;if(-1!=t){var s=P[t];n=w(s)}return n},this.findDeviceIndexByIP=function(e){if(e.indexOf("_")>-1){for(var t=0,n=P.length;n>t;t++)if(P[t].szDeviceIdentify==e)return t}else for(t=0,n=P.length;n>t;t++)if(P[t].szIP==e)return t;return-1},this.findWndIndexByIndex=function(e){for(var t=0,n=I.length;n>t;t++)if(I[t].iIndex==e)return t;return-1};var U=function(){this.szIP="",this.szHostName="",this.szAuth="",this.szHttpProtocol="http://",this.iCGIPort=80,this.szDeviceIdentify="",this.iDevicePort=-1,this.iHttpPort=-1,this.iHttpsPort=-1,this.iRtspPort=-1,this.iWSPort=-1,this.iAudioType=1,this.m_iAudioBitRate=-1,this.m_iAudioSamplingRate=-1,this.iDeviceProtocol=1,this.oProtocolInc=null,this.iAnalogChannelNum=0,this.szDeviceType="",this.bVoiceTalk=!1,this.oStreamCapa={bObtained:!1,bSupportShttpPlay:!1,bSupportShttpPlayback:!1,bSupportShttpsPlay:!1,bSupportShttpsPlayback:!1,bSupportShttpPlaybackTransCode:!1,bSupportShttpsPlaybackTransCode:!1,iIpChanBase:1}},V=function(){this.iIndex=0,this.szIP="",this.iCGIPort=80,this.szDeviceIdentify="",this.iChannelID="",this.iPlayStatus=0,this.bSound=!1,this.bRecord=!1,this.bPTZAuto=!1,this.bEZoom=!1,this.b3DZoom=!1},j=function(){this.options={type:"GET",url:"",auth:"",timeout:1e4,data:"",async:!0,success:null,error:null},this.m_szHttpHead="",this.m_szHttpContent="",this.m_szHttpData=""};j.prototype.m_httpRequestSet=[],j.prototype.setRequestParam=function(e){v.extend(this.options,e)},j.prototype.submitRequest=function(){var e=null,t=this;if(E()){this.options.auth?v.cookie("WebSession",this.options.auth):v.cookie("WebSession",null);var n=B(this.options.url),r=new s.XMLHttpRequest;r.open(this.options.type,n,this.options.async),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("If-Modified-Since","0"),r.send(this.options.data||null);var o=function(){if(4===r.readyState){e={funSuccessCallback:t.options.success,funErrorCallback:t.options.error};var n=r.status+r.responseText;0===r.status&&(n=""),t.httpDataAnalyse(e,n)}};this.options.async?(r.timeout=this.options.timeout,r.onreadystatechange=function(){o()}):o()}else{var i=this.getHttpMethod(this.options.type);if(this.options.async){var a=d.HWP_SubmitHttpRequest(i,this.options.url,this.options.auth,this.options.data,this.options.timeout);-1!=a&&(e={iRequestID:a,funSuccessCallback:this.options.success,funErrorCallback:this.options.error},this.m_httpRequestSet.push(e))}else{var c=d.HWP_SendHttpSynRequest(i,this.options.url,this.options.auth,this.options.data,this.options.timeout);e={funSuccessCallback:this.options.success,funErrorCallback:this.options.error},this.httpDataAnalyse(e,c)}}},j.prototype.getHttpMethod=function(e){var t={GET:1,POST:2,PUT:5,DELETE:6}[e];return t||-1},j.prototype.processCallback=function(e,t){for(var n=null,s=0;s<this.m_httpRequestSet.length;s++)if(e==this.m_httpRequestSet[s].iRequestID){n=this.m_httpRequestSet[s],this.m_httpRequestSet.splice(s,1);break}null!=n&&(this.httpDataAnalyse(n,t),delete n)},j.prototype.httpDataAnalyse=function(e,t){var n="",s=0;""==t||A(t)?e.funErrorCallback():(s=parseInt(t.substring(0,3)),n=t.substring(3,t.length),isNaN(s)?e.funErrorCallback():200==s?e.funSuccessCallback(v.loadXML2(n)):e.funErrorCallback(s,v.loadXML2(n)))};var O=function(){};O.prototype.CGI={login:"%s%s:%s/ISAPI/Security/userCheck",getAudioInfo:"%s%s:%s/ISAPI/System/TwoWayAudio/channels",getDeviceInfo:"%s%s:%s/ISAPI/System/deviceInfo",getAnalogChannelInfo:"%s%s:%s/ISAPI/System/Video/inputs/channels",getDigitalChannel:"%s%s:%s/ISAPI/ContentMgmt/InputProxy/channels",getDigitalChannelInfo:"%s%s:%s/ISAPI/ContentMgmt/InputProxy/channels/status",getZeroChannelInfo:"%s%s:%s/ISAPI/ContentMgmt/ZeroVideo/channels",getStreamChannels:{analog:"%s%s:%s/ISAPI/Streaming/channels",digital:"%s%s:%s/ISAPI/ContentMgmt/StreamingProxy/channels"},getStreamDynChannels:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/DynStreaming/channels",startRealPlay:{channels:"%s%s:%s/PSIA/streaming/channels/%s",zeroChannels:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/ZeroStreaming/channels/%s"},startShttpRealPlay:{channels:"%s%s:%s/SDK/play/%s/004",zeroChannels:"%s%s:%s/SDK/play/100/004/ZeroStreaming"},startWsRealPlay:{channels:"%s%s:%s/%s",zeroChannels:"%s%s:%s/%s"},startVoiceTalk:{open:"%s%s:%s/ISAPI/System/TwoWayAudio/channels/%s/open",close:"%s%s:%s/ISAPI/System/TwoWayAudio/channels/%s/close",audioData:"%s%s:%s/ISAPI/System/TwoWayAudio/channels/%s/audioData"},ptzControl:{analog:"%s%s:%s/ISAPI/PTZCtrl/channels/%s/continuous",digital:"%s%s:%s/ISAPI/ContentMgmt/PTZCtrlProxy/channels/%s/continuous"},ptzAutoControl:{ipdome:"%s%s:%s/ISAPI/PTZCtrl/channels/%s/presets/%s/goto",analog:"%s%s:%s/ISAPI/PTZCtrl/channels/%s/autoPan",digital:"%s%s:%s/ISAPI/ContentMgmt/PTZCtrlProxy/channels/%s/autoPan"},setPreset:{analog:"%s%s:%s/ISAPI/PTZCtrl/channels/%s/presets/%s",digital:"%s%s:%s/ISAPI/ContentMgmt/PTZCtrlProxy/channels/%s/presets/%s"},goPreset:{analog:"%s%s:%s/ISAPI/PTZCtrl/channels/%s/presets/%s/goto",digital:"%s%s:%s/ISAPI/ContentMgmt/PTZCtrlProxy/channels/%s/presets/%s/goto"},ptzFocus:{analog:"%s%s:%s/ISAPI/Image/channels/%s/focus",digital:"%s%s:%s/ISAPI/ContentMgmt/ImageProxy/channels/%s/focus",ipc:"%s%s:%s/ISAPI/System/Video/inputs/channels/%s/focus"},ptzIris:{analog:"%s%s:%s/ISAPI/Image/channels/%s/iris",digital:"%s%s:%s/ISAPI/ContentMgmt/ImageProxy/channels/%s/iris",ipc:"%s%s:%s/ISAPI/System/Video/inputs/channels/%s/iris"},getNetworkBond:"%s%s:%s/ISAPI/System/Network/Bond",getNetworkInterface:"%s%s:%s/ISAPI/System/Network/interfaces",getUPnPPortStatus:"%s%s:%s/ISAPI/System/Network/UPnP/ports/status",getPPPoEStatus:"%s%s:%s/ISAPI/System/Network/PPPoE/1/status",getPortInfo:"%s%s:%s/ISAPI/Security/adminAccesses",recordSearch:"%s%s:%s/ISAPI/ContentMgmt/search",startPlayback:"%s%s:%s/PSIA/streaming/tracks/%s?starttime=%s&endtime=%s",startWsPlayback:"%s%s:%s/%s",startShttpPlayback:"%s%s:%s/SDK/playback/%s",startShttpReversePlayback:"%s%s:%s/SDK/playback/%s/reversePlay",startTransCodePlayback:"%s%s:%s/SDK/playback/%s/transcoding",startDownloadRecord:"%s%s:%s/ISAPI/ContentMgmt/download",deviceConfig:"%s%s:%s/ISAPI/System/configurationData",restart:"%s%s:%s/ISAPI/System/reboot",restore:"%s%s:%s/ISAPI/System/factoryReset?mode=%s",startUpgrade:{upgrade:"%s%s:%s/ISAPI/System/updateFirmware",status:"%s%s:%s/ISAPI/System/upgradeStatus"},set3DZoom:{analog:"%s%s:%s/ISAPI/PTZCtrl/channels/%s/position3D",digital:"%s%s:%s/ISAPI/ContentMgmt/PTZCtrlProxy/channels/%s/position3D"},SDKCapabilities:"%s%s:%s/SDK/capabilities",deviceCapture:{channels:"%s%s:%s/ISAPI/Streaming/channels/%s/picture"},sessionCap:"%s%s:%s/ISAPI/Security/sessionLogin/capabilities?username=%s",sessionLogin:"%s%s:%s/ISAPI/Security/sessionLogin",sessionHeartbeat:"%s%s:%s/ISAPI/Security/sessionHeartbeat",sessionLogout:"%s%s:%s/ISAPI/Security/sessionLogout",systemCapabilities:"%s%s:%s/ISAPI/System/capabilities"},O.prototype.login=function(e,t,n,s){var r=2==s.protocol?"https://":"http://",o=T(this.CGI.login,r,e,t),i=new j,a={type:"GET",url:o,auth:n,success:null,error:null};v.extend(a,s),v.extend(a,{success:function(e){s.success&&s.success(e)},error:function(e,t){s.error&&s.error(e,t)}}),i.setRequestParam(a),i.submitRequest()},O.prototype.getAudioInfo=function(e,t){var n=T(this.CGI.getAudioInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getDeviceInfo=function(e,t){var n=T(this.CGI.getDeviceInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){var n=[];n.push("<DeviceInfo>"),n.push("<deviceName>"+v.escape(o.$XML(e).find("deviceName").eq(0).text())+"</deviceName>"),n.push("<deviceID>"+o.$XML(e).find("deviceID").eq(0).text()+"</deviceID>"),n.push("<deviceType>"+o.$XML(e).find("deviceType").eq(0).text()+"</deviceType>"),n.push("<model>"+o.$XML(e).find("model").eq(0).text()+"</model>"),n.push("<serialNumber>"+o.$XML(e).find("serialNumber").eq(0).text()+"</serialNumber>"),n.push("<macAddress>"+o.$XML(e).find("macAddress").eq(0).text()+"</macAddress>"),n.push("<firmwareVersion>"+o.$XML(e).find("firmwareVersion").eq(0).text()+"</firmwareVersion>"),n.push("<firmwareReleasedDate>"+o.$XML(e).find("firmwareReleasedDate").eq(0).text()+"</firmwareReleasedDate>"),n.push("<encoderVersion>"+o.$XML(e).find("encoderVersion").eq(0).text()+"</encoderVersion>"),n.push("<encoderReleasedDate>"+o.$XML(e).find("encoderReleasedDate").eq(0).text()+"</encoderReleasedDate>"),n.push("</DeviceInfo>"),e=v.loadXML(n.join("")),t.success&&t.success(e),t.mysuccess&&t.mysuccess(n.join(""))},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getAnalogChannelInfo=function(e,t){var n=T(this.CGI.getAnalogChannelInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){var n=[];n.push("<VideoInputChannelList>");for(var s=o.$XML(e).find("VideoInputChannel",!0),r=0,i=s.length;i>r;r++){var a=s[r];n.push("<VideoInputChannel>"),n.push("<id>"+o.$XML(a).find("id").eq(0).text()+"</id>"),n.push("<inputPort>"+o.$XML(a).find("inputPort").eq(0).text()+"</inputPort>"),n.push("<name>"+v.escape(o.$XML(a).find("name").eq(0).text())+"</name>"),n.push("<videoFormat>"+o.$XML(a).find("videoFormat").eq(0).text()+"</videoFormat>"),n.push("</VideoInputChannel>")}n.push("</VideoInputChannelList>"),e=v.loadXML(n.join("")),t.success&&t.success(e),t.mysuccess&&t.mysuccess(n.join(""))},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getDigitalChannel=function(e,t){var n=T(this.CGI.getDigitalChannel,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){var n=[];n.push("<InputProxyChannelList>");for(var s=o.$XML(e).find("InputProxyChannel",!0),r=0,i=s.length;i>r;r++){var a=s[r];n.push("<InputProxyChannel>"),n.push("<id>"+o.$XML(a).find("id").eq(0).text()+"</id>"),n.push("<name>"+v.escape(o.$XML(a).find("name").eq(0).text())+"</name>"),n.push("</InputProxyChannel>")}n.push("</InputProxyChannelList>"),e=v.loadXML2(n.join("")),t.success&&t.success(e),t.mysuccess&&t.mysuccess(n.join(""))},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getDigitalChannelInfo=function(e,t){var n=null,s={};if(this.getDigitalChannel(e,{async:!1,success:function(e){n=e;for(var t=o.$XML(n).find("InputProxyChannel",!0),r=0,i=t.length;i>r;r++){var a=t[r],c=o.$XML(a).find("id").eq(0).text(),u=o.$XML(a).find("name").eq(0).text();s[c]=u}},error:function(e,n){t.error&&t.error(e,n)}}),null!==n){var r=T(this.CGI.getDigitalChannelInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),i=new j,a={type:"GET",url:r,auth:e.szAuth,success:null,error:null};v.extend(a,t),v.extend(a,{success:function(e){var n=[];n.push("<InputProxyChannelStatusList>");for(var r=o.$XML(e).find("InputProxyChannelStatus",!0),i=0,a=r.length;a>i;i++){var c=r[i],u=o.$XML(c).find("id").eq(0).text();n.push("<InputProxyChannelStatus>"),n.push("<id>"+u+"</id>"),n.push("<sourceInputPortDescriptor>"),n.push("<proxyProtocol>"+o.$XML(c).find("proxyProtocol").eq(0).text()+"</proxyProtocol>"),n.push("<addressingFormatType>"+o.$XML(c).find("addressingFormatType").eq(0).text()+"</addressingFormatType>"),n.push("<ipAddress>"+o.$XML(c).find("ipAddress").eq(0).text()+"</ipAddress>"),n.push("<managePortNo>"+o.$XML(c).find("managePortNo").eq(0).text()+"</managePortNo>"),n.push("<srcInputPort>"+o.$XML(c).find("srcInputPort").eq(0).text()+"</srcInputPort>"),n.push("<userName>"+v.escape(o.$XML(c).find("userName").eq(0).text())+"</userName>"),n.push("<streamType>"+o.$XML(c).find("streamType").eq(0).text()+"</streamType>"),n.push("<online>"+o.$XML(c).find("online").eq(0).text()+"</online>"),n.push("<name>"+v.escape(s[u])+"</name>"),n.push("</sourceInputPortDescriptor>"),n.push("</InputProxyChannelStatus>")}n.push("</InputProxyChannelStatusList>"),e=v.loadXML2(n.join("")),t.success&&t.success(e),t.mysuccess&&t.mysuccess(n.join(""))},error:function(e,n){t.error&&t.error(e,n)}}),i.setRequestParam(a),i.submitRequest()}},O.prototype.getZeroChannelInfo=function(e,t){var n=T(this.CGI.getZeroChannelInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getStreamChannels=function(e,t){if(0!=e.iAnalogChannelNum)var n=T(this.CGI.getStreamChannels.analog,e.szHttpProtocol,e.szIP,e.iCGIPort);else n=T(this.CGI.getStreamChannels.digital,e.szHttpProtocol,e.szIP,e.iCGIPort);var s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getPPPoEStatus=function(e,t){var n=T(this.CGI.getPPPoEStatus,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getUPnPPortStatus=function(e,t){var n=T(this.CGI.getUPnPPortStatus,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getNetworkBond=function(e,t){var n=T(this.CGI.getNetworkBond,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getNetworkInterface=function(e,t){var n=T(this.CGI.getNetworkInterface,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getPortInfo=function(e,t){var n=T(this.CGI.getPortInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.startRealPlay=function(e,t){var n,s=100*t.iChannelID+t.iStreamType,r="",o=e.szIP;"rtsp://"===t.urlProtocol&&(o=z(o)),t.bZeroChannel?(E()&&(s=0),r=T(t.cgi.zeroChannels,t.urlProtocol,o,t.iPort,s)):r=T(t.cgi.channels,t.urlProtocol,o,t.iPort,s);var i=function(){var n=new V;n.iIndex=t.iWndIndex,n.szIP=e.szIP,n.iCGIPort=e.iCGIPort,n.szDeviceIdentify=e.szDeviceIdentify,n.iChannelID=t.iChannelID,n.iPlayStatus=1,I.push(n)};return E()?new Promise(function(n,s){d.JS_Play(r,{session:e.szAuth},t.iWndIndex).then(function(){i(),n()},function(){s()})}):(0==(n=d.HWP_Play(r,e.szAuth,t.iWndIndex,"",""))&&i(),n)},O.prototype.startVoiceTalk=function(e,t){var n=T(this.CGI.startVoiceTalk.open,e.szHttpProtocol,e.szIP,e.iCGIPort,t),s=T(this.CGI.startVoiceTalk.close,e.szHttpProtocol,e.szIP,e.iCGIPort,t),r=T(this.CGI.startVoiceTalk.audioData,e.szHttpProtocol,e.szIP,e.iCGIPort,t);return d.HWP_StartVoiceTalkEx(n,s,r,e.szAuth,e.iAudioType,e.m_iAudioBitRate,e.m_iAudioSamplingRate)},O.prototype.ptzAutoControl=function(e,t,n,s){var r=n.iChannelID,o="",i="";if(s.iPTZSpeed=s.iPTZSpeed<7?15*s.iPTZSpeed:100,t&&(s.iPTZSpeed=0),e.szDeviceType!=x)o=r<=e.iAnalogChannelNum?T(this.CGI.ptzAutoControl.analog,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID):n.bShttpIPChannel?T(this.CGI.ptzAutoControl.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID-e.oStreamCapa.iIpChanBase+1+e.iAnalogChannelNum):T(this.CGI.ptzAutoControl.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID),i="<?xml version='1.0' encoding='UTF-8'?><autoPanData><autoPan>"+s.iPTZSpeed+"</autoPan></autoPanData>";else{var a=99;t&&(a=96),o=T(this.CGI.ptzAutoControl.ipdome,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID,a)}var c=new j,u={type:"PUT",url:o,async:!1,auth:e.szAuth,data:i,success:null,error:null},l=this;v.extend(u,s),v.extend(u,{success:function(e){n.bPTZAuto=!n.bPTZAuto,s.success&&s.success(e)},error:function(t,r){if(S==e.szDeviceType||D==e.szDeviceType){o=n.bShttpIPChannel?T(l.CGI.ptzControl.analog,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID-e.oStreamCapa.iIpChanBase+1+e.iAnalogChannelNum):T(l.CGI.ptzControl.analog,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID),i="<?xml version='1.0' encoding='UTF-8'?><PTZData><pan>"+s.iPTZSpeed+"</pan><tilt>0</tilt></PTZData>";var a=new j,c={type:"PUT",url:o,async:!1,auth:e.szAuth,data:i,success:null,error:null};v.extend(c,s),a.setRequestParam(c),a.submitRequest()}else s.error&&s.error(t,r)}}),c.setRequestParam(u),c.submitRequest()},O.prototype.ptzControl=function(e,t,n,s){var r,o=n.iChannelID;n.bPTZAuto&&this.ptzAutoControl(e,!0,n,{iPTZSpeed:0}),s.iPTZSpeed=t?0:s.iPTZSpeed<7?15*s.iPTZSpeed:100;var i=[{},{pan:0,tilt:s.iPTZSpeed},{pan:0,tilt:-s.iPTZSpeed},{pan:-s.iPTZSpeed,tilt:0},{pan:s.iPTZSpeed,tilt:0},{pan:-s.iPTZSpeed,tilt:s.iPTZSpeed},{pan:-s.iPTZSpeed,tilt:-s.iPTZSpeed},{pan:s.iPTZSpeed,tilt:s.iPTZSpeed},{pan:s.iPTZSpeed,tilt:-s.iPTZSpeed},{},{speed:s.iPTZSpeed},{speed:-s.iPTZSpeed},{speed:s.iPTZSpeed},{speed:-s.iPTZSpeed},{speed:s.iPTZSpeed},{speed:-s.iPTZSpeed}],a="",c={};switch(s.iPTZIndex){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:c=this.CGI.ptzControl,a="<?xml version='1.0' encoding='UTF-8'?><PTZData><pan>"+i[s.iPTZIndex].pan+"</pan><tilt>"+i[s.iPTZIndex].tilt+"</tilt></PTZData>";break;case 10:case 11:c=this.CGI.ptzControl,a="<?xml version='1.0' encoding='UTF-8'?><PTZData><zoom>"+i[s.iPTZIndex].speed+"</zoom></PTZData>";break;case 12:case 13:c=this.CGI.ptzFocus,a="<?xml version='1.0' encoding='UTF-8'?><FocusData><focus>"+i[s.iPTZIndex].speed+"</focus></FocusData>";break;case 14:case 15:c=this.CGI.ptzIris,a="<?xml version='1.0' encoding='UTF-8'?><IrisData><iris>"+i[s.iPTZIndex].speed+"</iris></IrisData>";break;default:return void(s.error&&s.error())}r=c!=this.CGI.ptzFocus&&c!=this.CGI.ptzIris||e.szDeviceType!=S&&e.szDeviceType!=x&&e.szDeviceType!=D?o<=e.iAnalogChannelNum?T(c.analog,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID):n.bShttpIPChannel?T(c.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID-e.oStreamCapa.iIpChanBase+1+e.iAnalogChannelNum):T(c.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID):T(c.ipc,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID);var u=new j,l={type:"PUT",url:r,async:!1,auth:e.szAuth,data:a,success:null,error:null};v.extend(l,s),v.extend(l,{success:function(e){s.success&&s.success(e)},error:function(e,t){s.error&&s.error(e,t)}}),u.setRequestParam(l),u.submitRequest()},O.prototype.setPreset=function(e,t,n){var s,r="";s=t.iChannelID<=e.iAnalogChannelNum?T(this.CGI.setPreset.analog,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID,n.iPresetID):t.bShttpIPChannel?T(this.CGI.setPreset.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID-e.oStreamCapa.iIpChanBase+1+e.iAnalogChannelNum,n.iPresetID):T(this.CGI.setPreset.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID,n.iPresetID),r="<?xml version='1.0' encoding='UTF-8'?>",r+="<PTZPreset>",r+="<id>"+n.iPresetID+"</id>",e.szDeviceType!=x&&(r+="<presetName>Preset"+n.iPresetID+"</presetName>"),r+="</PTZPreset>";var o=new j,i={type:"PUT",url:s,auth:e.szAuth,data:r,success:null,error:null};v.extend(i,n),v.extend(i,{success:function(e){n.success&&n.success(e)},error:function(e,t){n.error&&n.error(e,t)}}),o.setRequestParam(i),o.submitRequest()},O.prototype.goPreset=function(e,t,n){var s;s=t.iChannelID<=e.iAnalogChannelNum?T(this.CGI.goPreset.analog,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID,n.iPresetID):t.bShttpIPChannel?T(this.CGI.goPreset.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID-e.oStreamCapa.iIpChanBase+1+e.iAnalogChannelNum,n.iPresetID):T(this.CGI.goPreset.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID,n.iPresetID);var r=new j,o={type:"PUT",url:s,auth:e.szAuth,success:null,error:null};v.extend(o,n),v.extend(o,{success:function(e){n.success&&n.success(e)},error:function(e,t){n.error&&n.error(e,t)}}),r.setRequestParam(o),r.submitRequest()},O.prototype.recordSearch=function(e,t){var n,s,i=t.iChannelID,a=t.iStreamType,c=t.szStartTime.replace(" ","T")+"Z",u=t.szEndTime.replace(" ","T")+"Z";n=T(this.CGI.recordSearch,e.szHttpProtocol,e.szIP,e.iCGIPort),s="<?xml version='1.0' encoding='UTF-8'?><CMSearchDescription><searchID>"+new r+"</searchID><trackList><trackID>"+(100*i+a)+"</trackID></trackList><timeSpanList><timeSpan><startTime>"+c+"</startTime><endTime>"+u+"</endTime></timeSpan></timeSpanList><maxResults>40</maxResults><searchResultPostion>"+t.iSearchPos+"</searchResultPostion><metadataList><metadataDescriptor>//metadata.ISAPI.org/VideoMotion</metadataDescriptor></metadataList></CMSearchDescription>";var l=new j,d={type:"POST",url:n,auth:e.szAuth,data:s,success:null,error:null};v.extend(d,t),v.extend(d,{success:function(e){var n=[];n.push("<CMSearchResult>"),n.push("<responseStatus>"+o.$XML(e).find("responseStatus").eq(0).text()+"</responseStatus>"),n.push("<responseStatusStrg>"+o.$XML(e).find("responseStatusStrg").eq(0).text()+"</responseStatusStrg>"),n.push("<numOfMatches>"+o.$XML(e).find("numOfMatches").eq(0).text()+"</numOfMatches>"),n.push("<matchList>");for(var s=o.$XML(e).find("searchMatchItem",!0),r=0,i=s.length;i>r;r++){var a=s[r];n.push("<searchMatchItem>"),n.push("<trackID>"+o.$XML(a).find("trackID").eq(0).text()+"</trackID>"),n.push("<startTime>"+o.$XML(a).find("startTime").eq(0).text()+"</startTime>"),n.push("<endTime>"+o.$XML(a).find("endTime").eq(0).text()+"</endTime>"),n.push("<playbackURI>"+v.escape(o.$XML(a).find("playbackURI").eq(0).text())+"</playbackURI>"),n.push("<metadataDescriptor>"+o.$XML(a).find("metadataDescriptor").eq(0).text().split("/")[1]+"</metadataDescriptor>"),n.push("</searchMatchItem>")}n.push("</matchList>"),n.push("</CMSearchResult>"),e=v.loadXML(n.join("")),t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),l.setRequestParam(d),l.submitRequest()},O.prototype.startPlayback=function(e,t){var n,s=t.iWndIndex,r=t.szStartTime,o=t.szEndTime,i=e.szIP;if("rtsp://"===t.urlProtocol&&(i=z(i)),n=E()?T(t.cgi,t.urlProtocol,i,t.iPort,t.iChannelID):T(t.cgi,t.urlProtocol,i,t.iPort,t.iChannelID,r,o),!A(t.oTransCodeParam)){var a=function(e){var t={TransFrameRate:"",TransResolution:"",TransBitrate:""};if(v.extend(t,e),""==t.TransFrameRate||""==t.TransResolution||""==t.TransBitrate)return"";var n=[];return n.push("<?xml version='1.0' encoding='UTF-8'?>"),n.push("<CompressionInfo>"),n.push("<TransFrameRate>"+t.TransFrameRate+"</TransFrameRate>"),n.push("<TransResolution>"+t.TransResolution+"</TransResolution>"),n.push("<TransBitrate>"+t.TransBitrate+"</TransBitrate>"),n.push("</CompressionInfo>"),n.join("")}(t.oTransCodeParam);if(""==a)return-1;d.HWP_SetTrsPlayBackParam(s,a)}var c=function(){var n=new V;n.iIndex=s,n.szIP=e.szIP,n.iCGIPort=e.iCGIPort,n.szDeviceIdentify=e.szDeviceIdentify,n.iChannelID=t.iChannelID,n.iPlayStatus=2,I.push(n)};if(E())return new Promise(function(t,i){d.JS_Play(n,{session:e.szAuth},s,r,o).then(function(){c(),t()},function(){i()})});var u=d.HWP_Play(n,e.szAuth,s,r,o);return 0==u&&c(),u},O.prototype.reversePlayback=function(e,t){var n=t.iWndIndex,s=t.szStartTime,r=t.szEndTime,o=e.szIP;"rtsp://"===t.urlProtocol&&(o=z(o));var i=T(t.cgi,t.urlProtocol,o,t.iPort,t.iChannelID,s,r),a=d.HWP_ReversePlay(i,e.szAuth,n,s,r);if(0==a){var c=new V;c.iIndex=n,c.szIP=e.szIP,c.iCGIPort=e.iCGIPort,c.szDeviceIdentify=e.szDeviceIdentify,c.iChannelID=t.iChannelID,c.iPlayStatus=5,I.push(c)}return a},O.prototype.startDownloadRecord=function(e,t){var n=-1,s=T(this.CGI.startDownloadRecord,e.szHttpProtocol,e.szIP,e.iCGIPort),r="<?xml version='1.0' encoding='UTF-8'?><downloadRequest><playbackURI> "+v.escape(t.szPlaybackURI)+"</playbackURI></downloadRequest>";return E()?(s=B(s),n=d.JS_StartDownload(s,e.szAuth,t.szFileName,r)):n=d.HWP_StartDownload(s,e.szAuth,t.szFileName,r,t.bDateDir),n},O.prototype.exportDeviceConfig=function(e){var t=T(this.CGI.deviceConfig,e.szHttpProtocol,e.szIP,e.iCGIPort);return d.HWP_ExportDeviceConfig(t,e.szAuth,"",0)},O.prototype.importDeviceConfig=function(e,t){var n=T(this.CGI.deviceConfig,e.szHttpProtocol,e.szIP,e.iCGIPort);return d.HWP_ImportDeviceConfig(n,e.szAuth,t.szFileName,0)},O.prototype.restart=function(e,t){var n=T(this.CGI.restart,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"PUT",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.restore=function(e,t,n){var s=T(this.CGI.restore,e.szHttpProtocol,e.szIP,e.iCGIPort,t),r=new j,o={type:"PUT",url:s,auth:e.szAuth,success:null,error:null};v.extend(o,n),v.extend(o,{success:function(e){n.success&&n.success(e)},error:function(e,t){n.error&&n.error(e,t)}}),r.setRequestParam(o),r.submitRequest()},O.prototype.startUpgrade=function(e,t){var n=T(this.CGI.startUpgrade.upgrade,e.szHttpProtocol,e.szIP,e.iCGIPort),s=T(this.CGI.startUpgrade.status,e.szHttpProtocol,e.szIP,e.iCGIPort);return d.HWP_StartUpgrade(n,s,e.szAuth,t.szFileName)},O.prototype.set3DZoom=function(e,t,n,s){var r;r=t.iChannelID<=e.iAnalogChannelNum?T(this.CGI.set3DZoom.analog,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID):t.bShttpIPChannel?T(this.CGI.set3DZoom.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID-e.oStreamCapa.iIpChanBase+1+e.iAnalogChannelNum):T(this.CGI.set3DZoom.digital,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID);var i=v.loadXML(n),a="<?xml version='1.0' encoding='UTF-8'?><Position3D><StartPoint><positionX>"+parseInt(o.$XML(i).find("StartPoint").eq(0).find("positionX").eq(0).text(),10)+"</positionX><positionY>"+(255-parseInt(o.$XML(i).find("StartPoint").eq(0).find("positionY").eq(0).text(),10))+"</positionY></StartPoint><EndPoint><positionX>"+parseInt(o.$XML(i).find("EndPoint").eq(0).find("positionX").eq(0).text(),10)+"</positionX><positionY>"+(255-parseInt(o.$XML(i).find("EndPoint").eq(0).find("positionY").eq(0).text(),10))+"</positionY></EndPoint></Position3D>",c=new j,u={type:"PUT",url:r,data:a,auth:e.szAuth,success:null,error:null};v.extend(u,s),v.extend(u,{success:function(e){s.success&&s.success(e)},error:function(e,t){s.error&&s.error(e,t)}}),c.setRequestParam(u),c.submitRequest()},O.prototype.getSDKCapa=function(e,t){var n=T(this.CGI.SDKCapabilities,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.deviceCapturePic=function(e,t,n,s){t=100*t+1;var r=-1,o=T(this.CGI.deviceCapture.channels,e.szHttpProtocol,e.szIP,e.iCGIPort,t),i=[];if(v.isInt(s.iResolutionWidth)&&i.push("videoResolutionWidth="+s.iResolutionWidth),v.isInt(s.iResolutionHeight)&&i.push("videoResolutionHeight="+s.iResolutionHeight),i.length>0&&(o+="?"+i.join("&")),E()){r=function(e,t){return $("body").append('<a id="jsplugin_download_a" href="'+e+'" download='+t+'.jpg><li id="jsplugin_download_li"></li></a>'),$("#jsplugin_download_li").trigger("click"),$("#jsplugin_download_a").remove(),0}(o=B(o),n)}else r=d.HWP_DeviceCapturePic(o,e.szAuth,n,s.bDateDir);return r},O.prototype.getSessionCap=function(e,t,n,s,r){var o;o=2==t?"https://":"http://";var i=T(this.CGI.sessionCap,o,e,n,encodeURIComponent(s)),a=new j,c={type:"GET",url:i,auth:"",success:null,error:null};v.extend(c,r),v.extend(c,{success:function(e){r.success&&r.success(e)},error:function(e,t){r.error&&r.error(e,t)}}),a.setRequestParam(c),a.submitRequest()},O.prototype.sessionLogin=function(e,t,n,s,r,i,a){var c;c=2==t?"https://":"http://";var u=T(this.CGI.sessionLogin,c,e,n),l=o.$XML(i).find("sessionID").eq(0).text(),d=o.$XML(i).find("challenge").eq(0).text(),p=parseInt(o.$XML(i).find("iterations").eq(0).text(),10),h=!1,P="";o.$XML(i).find("isIrreversible",!0).length>0&&(h="true"===o.$XML(i).find("isIrreversible").eq(0).text(),P=o.$XML(i).find("salt").eq(0).text());var I="";if(h){I=v.sha256(s+P+r),I=v.sha256(I+d);for(var f=2;p>f;f++)I=v.sha256(I)}else{I=v.sha256(r)+d;for(f=1;p>f;f++)I=v.sha256(I)}var m="<SessionLogin>";m+="<userName>"+v.escape(s)+"</userName>",m+="<password>"+I+"</password>",m+="<sessionID>"+l+"</sessionID>",m+="</SessionLogin>";var C=new j,y={type:"POST",url:u,data:m,auth:"",success:null,error:null};v.extend(y,a),v.extend(y,{success:function(e){a.success&&a.success(e)},error:function(e,t){a.error&&a.error(e,t)}}),C.setRequestParam(y),C.submitRequest()},O.prototype.sessionHeartbeat=function(e,t){var n=T(this.CGI.sessionHeartbeat,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"PUT",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.sessionLogout=function(e,t){var n=T(this.CGI.sessionLogout,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"PUT",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},O.prototype.getSystemCapa=function(e,t){var n=T(this.CGI.systemCapabilities,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()};var J=function(){};J.prototype.CGI={login:"%s%s:%s/PSIA/Custom/SelfExt/userCheck",getAudioInfo:"%s%s:%s/PSIA/Custom/SelfExt/TwoWayAudio/channels",getDeviceInfo:"%s%s:%s/PSIA/System/deviceInfo",getAnalogChannelInfo:"%s%s:%s/PSIA/System/Video/inputs/channels",getDigitalChannel:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/DynVideo/inputs/channels",getDigitalChannelInfo:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/DynVideo/inputs/channels/status",getZeroChannelInfo:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/ZeroVideo/channels",getStreamChannels:{analog:"%s%s:%s/PSIA/Streaming/channels",digital:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/DynStreaming/channels"},getStreamDynChannels:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/DynStreaming/channels",startRealPlay:{channels:"%s%s:%s/PSIA/streaming/channels/%s",zeroChannels:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/ZeroStreaming/channels/%s"},startVoiceTalk:{open:"%s%s:%s/PSIA/Custom/SelfExt/TwoWayAudio/channels/%s/open",close:"%s%s:%s/PSIA/Custom/SelfExt/TwoWayAudio/channels/%s/close",audioData:"%s%s:%s/PSIA/Custom/SelfExt/TwoWayAudio/channels/%s/audioData"},ptzControl:"%s%s:%s/PSIA/PTZ/channels/%s/continuous",ptzAutoControl:"%s%s:%s/PSIA/Custom/SelfExt/PTZ/channels/%s/autoptz",setPreset:"%s%s:%s/PSIA/PTZ/channels/%s/presets/%s",goPreset:"%s%s:%s/PSIA/PTZ/channels/%s/presets/%s/goto",ptzFocus:"%s%s:%s/PSIA/System/Video/inputs/channels/%s/focus",ptzIris:"%s%s:%s/PSIA/System/Video/inputs/channels/%s/iris",getNetworkBond:"%s%s:%s/PSIA/Custom/SelfExt/Bond",getNetworkInterface:"%s%s:%s/PSIA/System/Network/interfaces",getUPnPPortStatus:"%s%s:%s/PSIA/Custom/SelfExt/UPnP/ports/status",getPPPoEStatus:"%s%s:%s/PSIA/Custom/SelfExt/PPPoE/1/status",getPortInfo:"%s%s:%s/PSIA/Security/AAA/adminAccesses",recordSearch:"%s%s:%s/PSIA/ContentMgmt/search",startPlayback:"%s%s:%s/PSIA/streaming/tracks/%s?starttime=%s&endtime=%s",startDownloadRecord:"%s%s:%s/PSIA/Custom/SelfExt/ContentMgmt/download",deviceConfig:"%s%s:%s/PSIA/System/configurationData",restart:"%s%s:%s/PSIA/System/reboot",restore:"%s%s:%s/PSIA/System/factoryReset?mode=%s",startUpgrade:{upgrade:"%s%s:%s/PSIA/System/updateFirmware",status:"%s%s:%s/PSIA/Custom/SelfExt/upgradeStatus"},set3DZoom:"%s%s:%s/PSIA/Custom/SelfExt/PTZ/channels/%s/Set3DZoom",deviceCapture:{channels:"%s%s:%s/PSIA/Streaming/channels/%s/picture"},systemCapabilities:"%s%s:%s/PSIA/System/capabilities"},J.prototype.login=function(e,t,n,s){var r=2==s.protocol?"https://":"http://",i=T(this.CGI.login,r,e,t),a=new j,c={type:"GET",url:i,auth:n,success:null,error:null};v.extend(c,s),v.extend(c,{success:function(e){"200"==o.$XML(e).find("statusValue").eq(0).text()?s.success&&s.success(e):s.error&&s.error(401,e)},error:function(e,t){s.error&&s.error(e,t)}}),a.setRequestParam(c),a.submitRequest()},J.prototype.getAudioInfo=function(e,t){var n=T(this.CGI.getAudioInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getDeviceInfo=function(e,t){var n=T(this.CGI.getDeviceInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){var n=[];n.push("<DeviceInfo>"),n.push("<deviceName>"+v.escape(o.$XML(e).find("deviceName").eq(0).text())+"</deviceName>"),n.push("<deviceID>"+o.$XML(e).find("deviceID").eq(0).text()+"</deviceID>"),n.push("<deviceType>"+o.$XML(e).find("deviceDescription").eq(0).text()+"</deviceType>"),n.push("<model>"+o.$XML(e).find("model").eq(0).text()+"</model>"),n.push("<serialNumber>"+o.$XML(e).find("serialNumber").eq(0).text()+"</serialNumber>"),n.push("<macAddress>"+o.$XML(e).find("macAddress").eq(0).text()+"</macAddress>"),n.push("<firmwareVersion>"+o.$XML(e).find("firmwareVersion").eq(0).text()+"</firmwareVersion>"),n.push("<firmwareReleasedDate>"+o.$XML(e).find("firmwareReleasedDate").eq(0).text()+"</firmwareReleasedDate>"),n.push("<encoderVersion>"+o.$XML(e).find("logicVersion").eq(0).text()+"</encoderVersion>"),n.push("<encoderReleasedDate>"+o.$XML(e).find("logicReleasedDate").eq(0).text()+"</encoderReleasedDate>"),n.push("</DeviceInfo>"),e=v.loadXML(n.join("")),t.success&&t.success(e),t.mysuccess&&t.mysuccess(n.join(""))},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getSystemCapa=function(e,t){var n=T(this.CGI.systemCapabilities,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getAnalogChannelInfo=function(e,t){var n=T(this.CGI.getAnalogChannelInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){var n=[];n.push("<VideoInputChannelList>");for(var s=o.$XML(e).find("VideoInputChannel",!0),r=0,i=s.length;i>r;r++){var a=s[r];n.push("<VideoInputChannel>"),n.push("<id>"+o.$XML(a).find("id").eq(0).text()+"</id>"),n.push("<inputPort>"+o.$XML(a).find("inputPort").eq(0).text()+"</inputPort>"),n.push("<name>"+v.escape(o.$XML(a).find("name").eq(0).text())+"</name>"),n.push("<videoFormat>"+o.$XML(a).find("videoFormat").eq(0).text()+"</videoFormat>"),n.push("</VideoInputChannel>")}n.push("</VideoInputChannelList>"),e=v.loadXML(n.join("")),t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getDigitalChannel=function(e,t){var n=T(this.CGI.getDigitalChannel,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){var n=[];n.push("<InputProxyChannelList>");for(var s=o.$XML(e).find("DynVideoInputChannel",!0),r=0,i=s.length;i>r;r++){var a=s[r];n.push("<InputProxyChannel>"),n.push("<id>"+o.$XML(a).find("id").eq(0).text()+"</id>"),n.push("<name>"+v.escape(o.$XML(a).find("name").eq(0).text())+"</name>"),n.push("</InputProxyChannel>")}n.push("</InputProxyChannelList>"),e=v.loadXML(n.join("")),t.success&&t.success(e),t.mysuccess&&t.mysuccess(n.join(""))},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getDigitalChannelInfo=function(e,t){var n=null,s={};if(this.getDigitalChannel(e,{async:!1,success:function(e){n=e;for(var t=o.$XML(n).find("InputProxyChannel",!0),r=0,i=t.length;i>r;r++){var a=t[r],c=o.$XML(a).find("id").eq(0).text(),u=o.$XML(a).find("name").eq(0).text();s[c]=u}},error:function(e,n){t.error&&t.error(e,n)}}),null!==n){var r=T(this.CGI.getDigitalChannelInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),i=new j,a={type:"GET",url:r,auth:e.szAuth,success:null,error:null};v.extend(a,t),v.extend(a,{success:function(e){var n=[];n.push("<InputProxyChannelStatusList>");for(var r=o.$XML(e).find("DynVideoInputChannelStatus",!0),i=0,a=r.length;a>i;i++){var c=r[i],u=o.$XML(c).find("id").eq(0).text();n.push("<InputProxyChannelStatus>"),n.push("<id>"+u+"</id>"),n.push("<sourceInputPortDescriptor>"),n.push("<proxyProtocol>"+o.$XML(c).find("adminProtocol").eq(0).text()+"</proxyProtocol>"),n.push("<addressingFormatType>"+o.$XML(c).find("addressingFormatType").eq(0).text()+"</addressingFormatType>"),n.push("<ipAddress>"+o.$XML(c).find("ipAddress").eq(0).text()+"</ipAddress>"),n.push("<managePortNo>"+o.$XML(c).find("adminPortNo").eq(0).text()+"</managePortNo>"),n.push("<srcInputPort>"+o.$XML(c).find("srcInputPort").eq(0).text()+"</srcInputPort>"),n.push("<userName>"+v.escape(o.$XML(c).find("userName").eq(0).text())+"</userName>"),n.push("<streamType>"+o.$XML(c).find("streamType").eq(0).text()+"</streamType>"),n.push("<online>"+o.$XML(c).find("online").eq(0).text()+"</online>"),n.push("<name>"+v.escape(s[u])+"</name>"),n.push("</sourceInputPortDescriptor>"),n.push("</InputProxyChannelStatus>")}n.push("</InputProxyChannelStatusList>"),e=v.loadXML(n.join("")),t.success&&t.success(e),t.mysuccess&&t.mysuccess(n.join(""))},error:function(e,n){t.error&&t.error(e,n)}}),i.setRequestParam(a),i.submitRequest()}},J.prototype.getZeroChannelInfo=function(e,t){var n=T(this.CGI.getZeroChannelInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getPPPoEStatus=function(e,t){var n=T(this.CGI.getPPPoEStatus,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getUPnPPortStatus=function(e,t){var n=T(this.CGI.getUPnPPortStatus,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getNetworkBond=function(e,t){var n=T(this.CGI.getNetworkBond,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getNetworkInterface=function(e,t){var n=T(this.CGI.getNetworkInterface,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getPortInfo=function(e,t){var n=T(this.CGI.getPortInfo,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(n){var s=[];s.push("<AdminAccessProtocolList>");for(var r=o.$XML(n).find("AdminAccessProtocol",!0),i=0,a=r.length;a>i;i++)r[i],s.push("<AdminAccessProtocol>"),s.push("<id>"+o.$XML(n).find("id").eq(0).text()+"</id>"),s.push("<enabled>"+o.$XML(n).find("enabled").eq(0).text()+"</enabled>"),s.push("<protocol>"+o.$XML(n).find("protocol").eq(0).text().toUpperCase()+"</protocol>"),s.push("<portNo>"+o.$XML(n).find("portNo").eq(0).text()+"</portNo>"),s.push("</AdminAccessProtocol>");C.getStreamChannels(e,{async:!1,success:function(n){if(o.$XML(n).find("rtspPortNo",!0).length>0){var r=parseInt(o.$XML(n).find("rtspPortNo").eq(0).text(),10);s.push("<AdminAccessProtocol>"),s.push("<id>4</id>"),s.push("<enabled>true</enabled>"),s.push("<protocol>RTSP</protocol>"),s.push("<portNo>"+r+"</portNo>"),s.push("</AdminAccessProtocol>"),s.push("</AdminAccessProtocolList>");var i=v.loadXML(s.join(""));t.success&&t.success(i)}else C.getStreamDynChannels(e,{async:!1,success:function(e){if(o.$XML(e).find("rtspPortNo",!0).length>0){var n=parseInt(o.$XML(e).find("rtspPortNo").eq(0).text(),10);s.push("<AdminAccessProtocol>"),s.push("<id>4</id>"),s.push("<enabled>true</enabled>"),s.push("<protocol>RTSP</protocol>"),s.push("<portNo>"+n+"</portNo>"),s.push("</AdminAccessProtocol>"),s.push("</AdminAccessProtocolList>");var r=v.loadXML(s.join(""));t.success&&t.success(r)}},error:function(){t.error&&t.error()}})},error:function(){t.error&&t.error()}})},error:function(){var n=[];n.push("<AdminAccessProtocolList>"),C.getStreamChannels(e,{async:!1,success:function(s){if(o.$XML(s).find("rtspPortNo",!0).length>0){var r=parseInt(o.$XML(s).find("rtspPortNo").eq(0).text(),10);n.push("<AdminAccessProtocol>"),n.push("<id>4</id>"),n.push("<enabled>true</enabled>"),n.push("<protocol>RTSP</protocol>"),n.push("<portNo>"+r+"</portNo>"),n.push("</AdminAccessProtocol>"),n.push("</AdminAccessProtocolList>");var i=v.loadXML(n.join(""));t.success&&t.success(i)}else C.getStreamDynChannels(e,{async:!1,success:function(e){if(o.$XML(e).find("rtspPortNo",!0).length>0){var s=parseInt(o.$XML(e).find("rtspPortNo").eq(0).text(),10);n.push("<AdminAccessProtocol>"),n.push("<id>4</id>"),n.push("<enabled>true</enabled>"),n.push("<protocol>RTSP</protocol>"),n.push("<portNo>"+s+"</portNo>"),n.push("</AdminAccessProtocol>"),n.push("</AdminAccessProtocolList>");var r=v.loadXML(n.join(""));t.success&&t.success(r)}},error:function(){t.error&&t.error()}})},error:function(){t.error&&t.error()}})}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getStreamChannels=function(e,t){if(0!=e.iAnalogChannelNum)var n=T(this.CGI.getStreamChannels.analog,e.szHttpProtocol,e.szIP,e.iCGIPort);else n=T(this.CGI.getStreamChannels.digital,e.szHttpProtocol,e.szIP,e.iCGIPort);var s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.getStreamDynChannels=function(e,t){var n=T(this.CGI.getStreamDynChannels,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"GET",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.startRealPlay=function(e,t){var n,s=100*t.iChannelID+t.iStreamType,r=e.szIP;"rtsp://"===t.urlProtocol&&(r=z(r)),n=t.bZeroChannel?T(t.cgi.zeroChannels,t.urlProtocol,r,t.iPort,s):T(t.cgi.channels,t.urlProtocol,r,t.iPort,s);var o=d.HWP_Play(n,e.szAuth,t.iWndIndex,"","");if(0==o){var i=new V;i.iIndex=t.iWndIndex,i.szIP=e.szIP,i.iCGIPort=e.iCGIPort,i.szDeviceIdentify=e.szDeviceIdentify,i.iChannelID=t.iChannelID,i.iPlayStatus=1,I.push(i)}return o},J.prototype.startVoiceTalk=function(e,t){var n=T(this.CGI.startVoiceTalk.open,e.szHttpProtocol,e.szIP,e.iCGIPort,t),s=T(this.CGI.startVoiceTalk.close,e.szHttpProtocol,e.szIP,e.iCGIPort,t),r=T(this.CGI.startVoiceTalk.audioData,e.szHttpProtocol,e.szIP,e.iCGIPort,t);return d.HWP_StartVoiceTalkEx(n,s,r,e.szAuth,e.iAudioTypeoDeviceInfo.m_iAudioBitRate,e.m_iAudioSamplingRate)},J.prototype.ptzAutoControl=function(e,t,n,s){var r=n.iChannelID,o="",i="";if(s.iPTZSpeed=s.iPTZSpeed<7?15*s.iPTZSpeed:100,t&&(s.iPTZSpeed=0),e.szDeviceType!=x)o=T(this.CGI.ptzAutoControl,e.szHttpProtocol,e.szIP,e.iCGIPort,r),i="<?xml version='1.0' encoding='UTF-8'?><PTZData><pan>"+s.iPTZSpeed+"</pan><tilt>0</tilt></PTZData>";else{var a=99;t&&(a=96),o=T(this.CGI.goPreset,e.szHttpProtocol,e.szIP,e.iCGIPort,r,a)}var c=new j,u={type:"PUT",url:o,async:!1,auth:e.szAuth,data:i,success:null,error:null},l=this;v.extend(u,s),v.extend(u,{success:function(e){n.bPTZAuto=!n.bPTZAuto,s.success&&s.success(e)},error:function(t,r){if(e.szDeviceType!=x){o=T(l.CGI.ptzControl,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID);var a=new j,c={type:"PUT",url:o,async:!1,auth:e.szAuth,data:i,success:null,error:null};v.extend(c,s),a.setRequestParam(c),a.submitRequest()}else s.error&&s.error(t,r)}}),c.setRequestParam(u),c.submitRequest()},J.prototype.ptzControl=function(e,t,n,s){var r=n.iChannelID;n.bPTZAuto&&this.ptzAutoControl(e,!0,n,{iPTZSpeed:0}),s.iPTZSpeed=t?0:s.iPTZSpeed<7?15*s.iPTZSpeed:100;var o=[{},{pan:0,tilt:s.iPTZSpeed},{pan:0,tilt:-s.iPTZSpeed},{pan:-s.iPTZSpeed,tilt:0},{pan:s.iPTZSpeed,tilt:0},{pan:-s.iPTZSpeed,tilt:s.iPTZSpeed},{pan:-s.iPTZSpeed,tilt:-s.iPTZSpeed},{pan:s.iPTZSpeed,tilt:s.iPTZSpeed},{pan:s.iPTZSpeed,tilt:-s.iPTZSpeed},{},{speed:s.iPTZSpeed},{speed:-s.iPTZSpeed},{speed:s.iPTZSpeed},{speed:-s.iPTZSpeed},{speed:s.iPTZSpeed},{speed:-s.iPTZSpeed}],i="",a={};switch(s.iPTZIndex){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:a=this.CGI.ptzControl,i="<?xml version='1.0' encoding='UTF-8'?><PTZData><pan>"+o[s.iPTZIndex].pan+"</pan><tilt>"+o[s.iPTZIndex].tilt+"</tilt></PTZData>";break;case 10:case 11:a=this.CGI.ptzControl,i="<?xml version='1.0' encoding='UTF-8'?><PTZData><zoom>"+o[s.iPTZIndex].speed+"</zoom></PTZData>";break;case 12:case 13:a=this.CGI.ptzFocus,i="<?xml version='1.0' encoding='UTF-8'?><FocusData><focus>"+o[s.iPTZIndex].speed+"</focus></FocusData>";break;case 14:case 15:a=this.CGI.ptzIris,i="<?xml version='1.0' encoding='UTF-8'?><IrisData><iris>"+o[s.iPTZIndex].speed+"</iris></IrisData>";break;default:return void(s.error&&s.error())}r=T(a,e.szHttpProtocol,e.szIP,e.iCGIPort,n.iChannelID);var c=new j,u={type:"PUT",url:r,async:!1,auth:e.szAuth,data:i,success:null,error:null};v.extend(u,s),v.extend(u,{success:function(e){s.success&&s.success(e)},error:function(e,t){s.error&&s.error(e,t)}}),c.setRequestParam(u),c.submitRequest()},J.prototype.setPreset=function(e,t,n){var s=t.iChannelID,r="";s=T(this.CGI.setPreset,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID,n.iPresetID),r="<?xml version='1.0' encoding='UTF-8'?>",r+="<PTZPreset>",r+="<id>"+n.iPresetID+"</id>",e.szDeviceType!=x&&(r+="<presetName>Preset"+n.iPresetID+"</presetName>"),r+="</PTZPreset>";var o=new j,i={type:"PUT",url:s,auth:e.szAuth,data:r,success:null,error:null};v.extend(i,n),v.extend(i,{success:function(e){n.success&&n.success(e)},error:function(e,t){n.error&&n.error(e,t)}}),o.setRequestParam(i),o.submitRequest()},J.prototype.goPreset=function(e,t,n){var s=t.iChannelID;s=T(this.CGI.goPreset,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID,n.iPresetID);var r=new j,o={type:"PUT",url:s,auth:e.szAuth,success:null,error:null};v.extend(o,n),v.extend(o,{success:function(e){n.success&&n.success(e)},error:function(e,t){n.error&&n.error(e,t)}}),r.setRequestParam(o),r.submitRequest()},J.prototype.recordSearch=function(e,t){var n,s,i=t.iChannelID,a=t.iStreamType,c=t.szStartTime.replace(" ","T")+"Z",u=t.szEndTime.replace(" ","T")+"Z";n=T(this.CGI.recordSearch,e.szHttpProtocol,e.szIP,e.iCGIPort),s="<?xml version='1.0' encoding='UTF-8'?><CMSearchDescription><searchID>"+new r+"</searchID><trackList><trackID>"+(100*i+a)+"</trackID></trackList><timeSpanList><timeSpan><startTime>"+c+"</startTime><endTime>"+u+"</endTime></timeSpan></timeSpanList><maxResults>40</maxResults><searchResultPostion>"+t.iSearchPos+"</searchResultPostion><metadataList><metadataDescriptor>//metadata.psia.org/VideoMotion</metadataDescriptor></metadataList></CMSearchDescription>";var l=new j,d={type:"POST",url:n,auth:e.szAuth,data:s,success:null,error:null};v.extend(d,t),v.extend(d,{success:function(e){var n=[];n.push("<CMSearchResult>"),n.push("<responseStatus>"+o.$XML(e).find("responseStatus").eq(0).text()+"</responseStatus>"),n.push("<responseStatusStrg>"+o.$XML(e).find("responseStatusStrg").eq(0).text()+"</responseStatusStrg>"),n.push("<numOfMatches>"+o.$XML(e).find("numOfMatches").eq(0).text()+"</numOfMatches>"),n.push("<matchList>");for(var s=o.$XML(e).find("searchMatchItem",!0),r=0,i=s.length;i>r;r++){var a=s[r];n.push("<searchMatchItem>"),n.push("<trackID>"+o.$XML(a).find("trackID").eq(0).text()+"</trackID>"),n.push("<startTime>"+o.$XML(a).find("startTime").eq(0).text()+"</startTime>"),n.push("<endTime>"+o.$XML(a).find("endTime").eq(0).text()+"</endTime>"),n.push("<playbackURI>"+v.escape(o.$XML(a).find("playbackURI").eq(0).text())+"</playbackURI>"),n.push("<metadataDescriptor>"+o.$XML(a).find("metadataDescriptor").eq(0).text().split("/")[1]+"</metadataDescriptor>"),n.push("</searchMatchItem>")}n.push("</matchList>"),n.push("</CMSearchResult>"),e=v.loadXML(n.join("")),t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),l.setRequestParam(d),l.submitRequest()},J.prototype.startPlayback=function(e,t){var n=t.iWndIndex,s=t.szStartTime,r=t.szEndTime,o=e.szIP;"rtsp://"===t.urlProtocol&&(o=z(o));var i=T(t.cgi,t.urlProtocol,o,t.iPort,t.iChannelID,s,r),a=d.HWP_Play(i,e.szAuth,n,s,r);if(0==a){var c=new V;c.iIndex=n,c.szIP=e.szIP,c.iCGIPort=e.iCGIPort,c.szDeviceIdentify=e.szDeviceIdentify,c.iChannelID=t.iChannelID,c.iPlayStatus=2,I.push(c)}return a},J.prototype.reversePlayback=function(e,t){var n=t.iWndIndex,s=t.szStartTime,r=t.szEndTime,o=e.szIP;"rtsp://"===t.urlProtocol&&(o=z(o));var i=T(t.cgi,t.urlProtocol,o,t.iPort,t.iChannelID,s,r),a=d.HWP_ReversePlay(i,e.szAuth,n,s,r);if(0==a){var c=new V;c.iIndex=n,c.szIP=e.szIP,c.iCGIPort=e.iCGIPort,c.szDeviceIdentify=e.szDeviceIdentify,c.iChannelID=t.iChannelID,c.iPlayStatus=5,I.push(c)}return a},J.prototype.startDownloadRecord=function(e,t){var n=T(this.CGI.startDownloadRecord,e.szHttpProtocol,e.szIP,e.iCGIPort),s="<?xml version='1.0' encoding='UTF-8'?><downloadRequest><playbackURI> "+v.escape(t.szPlaybackURI)+"</playbackURI></downloadRequest>";return d.HWP_StartDownload(n,e.szAuth,t.szFileName,s,t.bDateDir)},J.prototype.exportDeviceConfig=function(e){var t=T(this.CGI.deviceConfig,e.szHttpProtocol,e.szIP,e.iCGIPort);return d.HWP_ExportDeviceConfig(t,e.szAuth,"",0)},J.prototype.importDeviceConfig=function(e,t){var n=T(this.CGI.deviceConfig,e.szHttpProtocol,e.szIP,e.iCGIPort);return d.HWP_ImportDeviceConfig(n,e.szAuth,t.szFileName,0)},J.prototype.restart=function(e,t){var n=T(this.CGI.restart,e.szHttpProtocol,e.szIP,e.iCGIPort),s=new j,r={type:"PUT",url:n,auth:e.szAuth,success:null,error:null};v.extend(r,t),v.extend(r,{success:function(e){t.success&&t.success(e)},error:function(e,n){t.error&&t.error(e,n)}}),s.setRequestParam(r),s.submitRequest()},J.prototype.restore=function(e,t,n){var s=T(this.CGI.restore,e.szHttpProtocol,e.szIP,e.iCGIPort,t),r=new j,o={type:"PUT",url:s,auth:e.szAuth,success:null,error:null};v.extend(o,n),v.extend(o,{success:function(e){n.success&&n.success(e)},error:function(e,t){n.error&&n.error(e,t)}}),r.setRequestParam(o),r.submitRequest()},J.prototype.startUpgrade=function(e,t){var n=T(this.CGI.startUpgrade.upgrade,e.szHttpProtocol,e.szIP,e.iCGIPort),s=T(this.CGI.startUpgrade.status,e.szHttpProtocol,e.szIP,e.iCGIPort);return d.HWP_StartUpgrade(n,s,e.szAuth,t.szFileName)},J.prototype.set3DZoom=function(e,t,n,s){var r=T(this.CGI.set3DZoom,e.szHttpProtocol,e.szIP,e.iCGIPort,t.iChannelID),o=new j,i={type:"PUT",url:r,data:n,auth:e.szAuth,success:null,error:null};v.extend(i,s),v.extend(i,{success:function(e){s.success&&s.success(e)},error:function(e,t){s.error&&s.error(e,t)}}),o.setRequestParam(i),o.submitRequest()},J.prototype.deviceCapturePic=function(e,t,n,s){t=100*t+1;var r=T(this.CGI.deviceCapture.channels,e.szHttpProtocol,e.szIP,e.iCGIPort,t),o=[];return v.isInt(s.iResolutionWidth)&&o.push("videoResolutionWidth="+s.iResolutionWidth),v.isInt(s.iResolutionHeight)&&o.push("videoResolutionHeight="+s.iResolutionHeight),o.length>0&&(r+="?"+o.join("&")),d.HWP_DeviceCapturePic(r,e.szAuth,n,s.bDateDir)};var K=function(){};K.prototype._alert=function(e){l.bDebugMode&&console.log(e)},function(e){var t=function(e){this.elems=[],this.length=0,this.length=this.elems.push(e)};t.prototype.find=function(e,t){var n=this.elems[this.length-1]?this.elems[this.length-1].getElementsByTagName(e):[];return this.length=this.elems.push(n),t?n:this},t.prototype.eq=function(e,t){var n=this.elems[this.length-1].length,s=null;return n>0&&n>e&&(s=this.elems[this.length-1][e]),this.length=this.elems.push(s),t?s:this},t.prototype.text=function(e){return this.elems[this.length-1]?e?void(s.DOMParser?this.elems[this.length-1].textContent=e:this.elems[this.length-1].text=e):s.DOMParser?this.elems[this.length-1].textContent:this.elems[this.length-1].text:""},t.prototype.attr=function(e){if(this.elems[this.length-1]){var t=this.elems[this.length-1].attributes.getNamedItem(e);return t?t.value:""}},e.$XML=function(e){return new t(e)}}(this);var Y=function(){};Y.prototype.extend=function(){for(var e,t=arguments[0]||{},n=1,s=arguments.length;s>n;n++)if(null!=(e=arguments[n]))for(var r in e){var o=(t[r],e[r]);t!==o&&("object"==typeof o?t[r]=this.extend({},o):void 0!==o&&(t[r]=o))}return t},Y.prototype.browser=function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(safari)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||/(trident.*rv:)([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||["unknow","0"];t.length>0&&t[1].indexOf("trident")>-1&&(t[1]="msie");var n={};return n[t[1]]=!0,n.version=t[2],n},Y.prototype.loadXML=function(e){if(null==e||""==e)return null;var t=null;s.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):window.ActiveXObject&&((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e));return t},Y.prototype.loadXML2=function(e){if(null==e||""==e)return null;var t=null;try{(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)}catch(n){try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){return void alert(e.message)}}return t},Y.prototype.toXMLStr=function(e){var t="";try{t=(new XMLSerializer).serializeToString(e)}catch(n){try{t=e.xml}catch(e){return""}}return-1==t.indexOf("<?xml")&&(t="<?xml version='1.0' encoding='utf-8'?>"+t),t},Y.prototype.escape=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Y.prototype.dateFormat=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[s]:("00"+n[s]).substr((""+n[s]).length)));return t},Y.prototype.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,s,r,o,i,a,c="",u=0;for(e=Y.prototype.Base64._utf8_encode(e);u<e.length;)r=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(n=e.charCodeAt(u++))>>4,i=(15&n)<<2|(s=e.charCodeAt(u++))>>6,a=63&s,isNaN(n)?i=a=64:isNaN(s)&&(a=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(a);return c},decode:function(e){var t,n,s,r,o,i,a="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)t=this._keyStr.indexOf(e.charAt(c++))<<2|(r=this._keyStr.indexOf(e.charAt(c++)))>>4,n=(15&r)<<4|(o=this._keyStr.indexOf(e.charAt(c++)))>>2,s=(3&o)<<6|(i=this._keyStr.indexOf(e.charAt(c++))),a+=String.fromCharCode(t),64!=o&&(a+=String.fromCharCode(n)),64!=i&&(a+=String.fromCharCode(s));return Y.prototype.Base64._utf8_decode(a)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var s=e.charCodeAt(n);128>s?t+=String.fromCharCode(s):s>127&&2048>s?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t},_utf8_decode:function(e){for(var t="",n=0,s=c1=c2=0;n<e.length;)128>(s=e.charCodeAt(n))?(t+=String.fromCharCode(s),n++):s>191&&224>s?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&s)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),n+=3);return t}},Y.prototype.createEventScript=function(e,t,n){var s=document.createElement("script");s.htmlFor=e,s.event=t,s.innerHTML=n,document.body.parentNode.appendChild(s)},Y.prototype.isInt=function(e){return/^\d+$/.test(e)},Y.prototype.getDirName=function(){var e="";if(""!==l.szBasePath)e=l.szBasePath;else{var t=/[^?#]*\//,n=document.getElementById("videonode");if(n)e=n.src.match(t)[0];else{for(var s=document.scripts,r=0,o=s.length;o>r;r++)if(s[r].src.indexOf("webVideoCtrl.js")>-1){n=s[r];break}n&&(e=n.src.match(t)[0])}}return e},Y.prototype.loadScript=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},Y.prototype.sha256=function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}return function(e){for(var t="",n=0;n<4*e.length;n++)t+="0123456789abcdef".charAt(e[n>>2]>>8*(3-n%4)+4&15)+"0123456789abcdef".charAt(e[n>>2]>>8*(3-n%4)&15);return t}(function(e,s){var r,o,i,a,c,u,l,d,p,h,P,I,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],C=Array(64);for(e[s>>5]|=128<<24-s%32,e[15+(s+64>>9<<4)]=s,p=0;p<e.length;p+=16){for(r=m[0],o=m[1],i=m[2],a=m[3],c=m[4],u=m[5],l=m[6],d=m[7],h=0;64>h;h++)C[h]=16>h?e[h+p]:t(t(t(n(C[h-2],17)^n(C[h-2],19)^C[h-2]>>>10,C[h-7]),n(C[h-15],7)^n(C[h-15],18)^C[h-15]>>>3),C[h-16]),P=t(t(t(t(d,n(c,6)^n(c,11)^n(c,25)),c&u^~c&l),f[h]),C[h]),I=t(n(r,2)^n(r,13)^n(r,22),r&o^r&i^o&i),d=l,l=u,u=c,c=t(a,P),a=i,i=o,o=r,r=t(P,I);m[0]=t(r,m[0]),m[1]=t(o,m[1]),m[2]=t(i,m[2]),m[3]=t(a,m[3]),m[4]=t(c,m[4]),m[5]=t(u,m[5]),m[6]=t(l,m[6]),m[7]=t(d,m[7])}return m}(function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var s=e.charCodeAt(n);128>s?t+=String.fromCharCode(s):(s>127&&2048>s?t+=String.fromCharCode(s>>6|192):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128)),t+=String.fromCharCode(63&s|128))}return t}(e)),8*e.length))},Y.prototype.cookie=function(e,t,n){if(arguments.length>1&&(null===t||"object"!=typeof t)){if(n=this.extend({},n),null===t&&(n.expires=-1),"number"==typeof n.expires){var s=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+s)}return document.cookie=[encodeURIComponent(e),"=",n.raw?String(t):encodeURIComponent(String(t)),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"; path=/",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}var o,i=(n=t||{}).raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?i(o[1]):null},r.prototype.valueOf=function(){return this.id},r.prototype.toString=function(){return this.id},r.prototype.createUUID=function(){var e=new Date(1582,10,15,0,0,0,0),t=(new Date).getTime()-e.getTime(),n="-";return r.getIntegerBits(t,0,31)+n+r.getIntegerBits(t,32,47)+n+(r.getIntegerBits(t,48,59)+"1")+n+r.getIntegerBits(r.rand(4095),0,7)+r.getIntegerBits(r.rand(4095),0,7)+n+(r.getIntegerBits(r.rand(8191),0,7)+r.getIntegerBits(r.rand(8191),8,15)+r.getIntegerBits(r.rand(8191),0,7)+r.getIntegerBits(r.rand(8191),8,15)+r.getIntegerBits(r.rand(8191),0,15))},r.getIntegerBits=function(e,t,n){var s=r.returnBase(e,16),o=new Array,i="",a=0;for(a=0;a<s.length;a++)o.push(s.substring(a,a+1));for(a=Math.floor(t/4);a<=Math.floor(n/4);a++)i+=o[a]&&""!=o[a]?o[a]:"0";return i},r.returnBase=function(e,t){var n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];if(t>e)var s=n[e];else{var r=""+Math.floor(e/t),o=e-r*t;if(r>=t)s=this.returnBase(r,t)+n[o];else s=n[r]+n[o]}return s},r.rand=function(e){return Math.floor(Math.random()*e)},m=new O,C=new J,f=new K;var Q=(v=new Y).dateFormat(new Date,"yyyyMMddhhmmss");return c="webVideoCtrl"+Q,u="webVideoCtrl"+Q,"object"!=typeof s.attachEvent&&v.browser().msie&&(v.createEventScript(c,"GetSelectWndInfo(SelectWndInfo)","GetSelectWndInfo(SelectWndInfo);"),v.createEventScript(c,"ZoomInfoCallback(szZoomInfo)","ZoomInfoCallback(szZoomInfo);"),v.createEventScript(c,"GetHttpInfo(lID, lpInfo, lReverse)","GetHttpInfo(lID, lpInfo, lReverse);"),v.createEventScript(c,"PluginEventHandler(iEventType, iParam1, iParam2)","PluginEventHandler(iEventType, iParam1, iParam2);"),v.createEventScript(c,"RemoteConfigInfo(lID)","RemoteConfigInfo(lID);"),v.createEventScript(c,"KeyBoardEventInfo(iKeyCode)","KeyBoardEventInfo(iKeyCode);")),this}(),o=s.WebVideoCtrl=r;o.version="1.1.0"}}(this),"object"==typeof t&&void 0!==e||(void 0===(s=function(){return WebVideoCtrl}.call(t,n,t,e))||(e.exports=s))},Q8AD:function(e,t){},"uc/D":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("IN4q"),r={data:function(){return{hkvInfo:{ip:"10.0.11.1",port:"81",username:"admin",password:"abcd1234",channels:[]},mySelectWnd:0,g_bPTZAuto:!1,iProtocol:1,loginLoading:!1,startPlayLoading:!1,iStreamType:1,bZeroChannel:!1,iRtspPort:0}},created:function(){},mounted:function(){this.videoInitPlugin()},destroyed:function(){this.clickStopRealPlay(),this.onLogout()},methods:{onLogin:function(){var e=this;e.loginLoading=!0,s.WebVideoCtrl.I_Login(e.hkvInfo.ip,e.iProtocol,e.hkvInfo.port,e.hkvInfo.username,e.hkvInfo.password,{async:!1,success:function(t){e.getChannelInfo(),e.getDevicePort(e.hkvInfo.ip+"_"+e.hkvInfo.port),e.loginLoading=!1,e.$message({showClose:!0,message:"登录成功",type:"success"})},error:function(){e.loginLoading=!1,e.$message({showClose:!0,message:"登录失败",type:"error"})}})},onLogout:function(){this.hkvInfo.channels=[];var e=this.hkvInfo.ip+"_"+this.hkvInfo.port;0==s.WebVideoCtrl.I_Logout(e)?this.$message({showClose:!0,message:"退出成功",type:"success"}):this.$message({showClose:!0,message:"退出失败",type:"error"})},clickStartRealPlay:function(){this.startPlayLoading=!0;for(var e=this.hkvInfo.ip+"_"+this.hkvInfo.port,t=this.hkvInfo.channels.length>4?4:this.hkvInfo.channels.length,n=0;n<t;n++)setTimeout(this.startRealPlay(e,n,this.hkvInfo.channels[n]),500);this.startPlayLoading=!1},videoInitPlugin:function(){-1!==s.WebVideoCtrl.I_CheckPluginInstall()?this.initPlugin():alert("您还未安装过插件，双击开发包目录里的WebComponentsKit.exe安装")},initPlugin:function(){var e=this;s.WebVideoCtrl.I_InitPlugin(500,300,{bWndFull:!0,iWndowType:2,myCbSelWnd:function(t){var n=e.$x2js.xml2js(t);e.mySelectWnd=n.RealPlayInfo.SelectWnd;var s="当前选择的窗口编号："+e.mySelectWnd;console.log(s)},cbInitPluginComplete:function(){s.WebVideoCtrl.I_InsertOBJECTPlugin("divPlugin"),-1!==s.WebVideoCtrl.I_CheckPluginVersion()||alert("检测到新的插件版本，双击开发包目录里的WebComponentsKit.exe升级！")}})},getDevicePort:function(e){var t=s.WebVideoCtrl.I_GetDevicePort(e);this.iRtspPort=t.iRtspPort},startRealPlay:function(e,t,n){var r=this;s.WebVideoCtrl.I_StartRealPlay(e,{iRtspPort:r.iRtspPort,iWndIndex:t,iStreamType:1,iChannelID:n,bZeroChannel:r.bZeroChannel,success:function(){r.$notify({title:"成功",message:"开始预览通道"+n+"成功",type:"success"})},error:function(e,t){console.log(t),r.$notify({title:"失败",message:"开始预览通道"+n+"失败",type:"error"}),403===e?console.log("szInfo 设备不支持Websocket取流！"):console.log("开始预览失败 ",e,t)}})},clickStopRealPlay:function(){for(var e=this.hkvInfo.channels.length>4?4:this.hkvInfo.channels.length,t=0;t<e;t++)setTimeout(this.stopRealPlay(t),1e3)},stopRealPlay:function(e){var t=this;s.WebVideoCtrl.I_Stop({iWndIndex:e,success:function(){t.$notify({title:"成功",message:"停止预览窗口"+e+"成功",type:"success"})},error:function(){t.$notify({title:"失败",message:"停止预览窗口"+e+"失败",type:"error"})}})},getChannelInfo:function(){var e=this,t=this.hkvInfo.ip+"_"+this.hkvInfo.port;e.hkvInfo.channels=[],s.WebVideoCtrl.I_GetDigitalChannelInfo(t,{async:!1,mysuccess:function(t){console.log("mysuccess I_GetDigitalChannelInfo: ",t);for(var n=e.$x2js.xml2js(t).InputProxyChannelStatusList.InputProxyChannelStatus,s=0;s<n.length;s++)e.hkvInfo.channels.push(n[s].id)},success:function(e){},error:function(e,t){console.log("获取数字通道失败")}}),s.WebVideoCtrl.I_GetAnalogChannelInfo(t,{async:!1,mysuccess:function(t){var n=e.$x2js.xml2js(t);console.log("模拟通道mysuccess",t);var s=n.VideoInputChannelList.VideoInputChannel.id;e.hkvInfo.channels.push(s)},success:function(e){console.log("模拟通道success",e)},error:function(e,t){console.log("模拟通道error",t)}})},mouseDownPTZControl:function(e){var t=s.WebVideoCtrl.I_GetWindowStatus(this.mySelectWnd);null!==t&&(9===e&&this.g_bPTZAuto?iPTZSpeed=0:this.g_bPTZAuto=!1,s.WebVideoCtrl.I_PTZControl(e,!1,{iPTZSpeed:4,mysuccess:function(n){console.log("I_PTZControl",n),9===e&&this.g_bPTZAuto?console.log(t.szDeviceIdentify+" 停止云台成功！mouseDown"):console.log(t.szDeviceIdentify+" 开启云台成功！mouseDown"),9===e&&(this.g_bPTZAuto=!this.g_bPTZAuto)},error:function(e,n){console.log(t.szDeviceIdentify+" 开启云台失败！mouseDown",e,n)}}))},mouseUpPTZControl:function(){var e=s.WebVideoCtrl.I_GetWindowStatus(this.mySelectWnd);null!==e&&s.WebVideoCtrl.I_PTZControl(1,!0,{mysuccess:function(t){console.log(e.szDeviceIdentify+" 停止云台成功！mouseUp",t)},error:function(t,n){console.log(e.szDeviceIdentify+" 停止云台失败！mouseUp",t,n)}})}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"plugin",attrs:{id:"divPlugin"}}),e._v(" "),n("br"),e._v(" "),n("div",[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.hkvInfo}},[n("el-row",[n("el-col",[n("el-form-item",{attrs:{label:"ip"}},[n("el-input",{attrs:{placeholder:"ip"},model:{value:e.hkvInfo.ip,callback:function(t){e.$set(e.hkvInfo,"ip",t)},expression:"hkvInfo.ip"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"port"}},[n("el-input",{attrs:{placeholder:"port"},model:{value:e.hkvInfo.port,callback:function(t){e.$set(e.hkvInfo,"port",t)},expression:"hkvInfo.port"}})],1)],1)],1),e._v(" "),n("el-row",[n("el-col",[n("div",[n("el-form-item",{attrs:{label:"username"}},[n("el-input",{attrs:{placeholder:"username"},model:{value:e.hkvInfo.username,callback:function(t){e.$set(e.hkvInfo,"username",t)},expression:"hkvInfo.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"password"}},[n("el-input",{attrs:{placeholder:"password"},model:{value:e.hkvInfo.password,callback:function(t){e.$set(e.hkvInfo,"password",t)},expression:"hkvInfo.password"}})],1)],1)])],1),e._v(" "),n("el-row",[n("el-col",[n("el-form-item",[n("el-button",{attrs:{type:"primary",loading:e.loginLoading},on:{click:e.onLogin}},[e._v("登录")]),e._v(" "),n("el-button",{attrs:{type:"primary",loading:e.startPlayLoading},on:{click:e.clickStartRealPlay}},[e._v("开始预览")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.clickStopRealPlay}},[e._v("停止预览")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onLogout}},[e._v("退出")])],1)],1)],1)],1)],1),e._v(" "),n("div",[n("label",[e._v("数字通道列表: ")]),e._v(" "),e._l(e.hkvInfo.channels,function(t,s){return n("el-tag",{key:s,staticClass:"my-tag",attrs:{type:"success"}},[e._v(e._s(t))])})],2)]),e._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"el-button-group "},[n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(5)},mouseup:e.mouseUpPTZControl}},[e._v("左上")]),e._v(" "),n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(1)},mouseup:e.mouseUpPTZControl}},[e._v("向上")]),e._v(" "),n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(7)},mouseup:e.mouseUpPTZControl}},[e._v("右上")])]),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"el-button-group "},[n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(3)},mouseup:e.mouseUpPTZControl}},[e._v("向左")]),e._v(" "),n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(9)},mouseup:e.mouseUpPTZControl}},[e._v("自动")]),e._v(" "),n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(4)},mouseup:e.mouseUpPTZControl}},[e._v("向右")])]),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"el-button-group "},[n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(6)},mouseup:e.mouseUpPTZControl}},[e._v("左下")]),e._v(" "),n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(2)},mouseup:e.mouseUpPTZControl}},[e._v("向下")]),e._v(" "),n("div",{staticClass:"el-button primary",on:{mousedown:function(t){return e.mouseDownPTZControl(8)},mouseup:e.mouseUpPTZControl}},[e._v("右下")])])])],1)],1)},staticRenderFns:[]};var i=n("VU/8")(r,o,!1,function(e){n("Q8AD")},"data-v-36ad4abe",null);t.default=i.exports}});
//# sourceMappingURL=2.9a153de42604c235c2ea.js.map