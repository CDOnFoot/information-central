webpackJsonp([6],{TOaz:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("woOf"),o=e.n(n),i=[{title:"部门代码",dataIndex:"name"},{title:"部门名称",dataIndex:"email"}],l=[{title:"岗位ID",dataIndex:"name"},{title:"岗位代码",dataIndex:"email"},{title:"从属部门",dataIndex:"email"},{title:"岗位名称",dataIndex:"email"}],d=[{title:"部门名称",dataIndex:"name"},{title:"岗位名称",dataIndex:"email"},{title:"可通行门",dataIndex:"email"},{title:"状态",dataIndex:"email"}],s=[],c={name:"card-user-manage",components:{AFormItem:e("SWcn").a},data:function(){var t=this;return{columns1:i,columns2:l,columns3:d,expandAllRows:!0,pagination:{current:1,defaultCurrent:1,defaultPageSize:20,total:0,size:"large",onChange:function(a){return t.changePage(a)}},loading:!1,data:[]}},mounted:function(){this.init()},methods:{init:function(){var t,a=this;t="/config/departments",a.$http.get(t).then(function(t){console.log(t),a.data=t.data.value,0==a.data.length&&(a.data=s),a.pagination.total=a.data.length,a.loading=!1})},changePage:function(t){this.pagination.current=t},addCard:function(){this.modalForm=o()({},{}),this.modalTitle="添加门禁卡",this.okButton="保存",this.enableEdit=!1,this.isShowModal=!0},checkCard:function(t){this.modalForm=o()({},t),this.modalTitle="查看门禁卡",this.modalForm.Enable=!0===this.modalForm.Enable?"Enable":"Disable",this.okButton="确定",this.enableEdit=!0,this.isShowModal=!0},editCard:function(t){this.modalForm=o()({},t),this.modalTitle="编辑门禁卡",this.modalForm.Enable=!0===this.modalForm.Enable?"Enable":"Disable",this.okButton="保存",this.enableEdit=!1,this.isShowModal=!0},deleteCard:function(t){var a=this;a.modal=a.Modal.confirm({title:"删除门禁卡",cancelText:"取消",centered:!0,closable:!1,content:"此操作将在列表删除此条数据，是否继续？",okType:"warning",onOk:function(t){var e={EntityId:a.modalForm.EntityId};a.$http.post(a.$api.deleteUser,e).then(function(t){if(200!==t.status)return!1;"success"===t.data&&a.$info({title:"完成",content:"已删除此条数据！",onOk:function(){a.modal.destroy()}}),a.modal.destroy()})},onCancel:function(t){a.modal.destroy()}})},handleOk:function(t){var a=this,e=null;if(a.confirmLoading=!0,"添加门禁卡"===a.modalTitle){var n=a.modalForm.Encoded,o=a.modalForm.DisplayName,i=(a.modalForm.Expire,a.modalForm.TimeSheetType),l=a.modalForm.Description;a.modalForm.Enable;e={Modified:new Date,IsDeleted:!1,Actived:new Date,Expired:new Date,Type:i,FirstName:"",LastName:o,Description:l,IsBlocked:!1,Code:n,Role:"",Department:""},console.log(e),a.$http.post(a.$api.getCards,e).then(function(t){console.log(t),"success"===t.data?a.$info({title:"提示",content:"添加成功！",onOk:function(){a.isShowModal=!1}}):a.$info({title:"错误",content:"发生了一些错误："+t.data.Message,onOk:function(){a.isShowModal=!1}}),a.confirmLoading=!1})}else"查看门禁卡"===a.modalTitle?(a.isShowModal=!1,a.confirmLoading=!1):"编辑门禁卡"===a.modalTitle&&(console.log(a.modalForm),a.$http.post(a.$api.updateUsers,e).then(function(t){"success"===t.data?a.$info({title:"提示",content:"修改成功！",onOk:function(){a.isShowModal=!1}}):a.$info({title:"错误",content:"发生了一些错误："+t.data.Message,onOk:function(){a.isShowModal=!1}}),a.confirmLoading=!1}))},closeModal:function(t){this.confirmLoading=!1,this.isShowModal=!1},changeTime:function(t,a){console.log(t,a)}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-user-manage"},[e("div",{staticClass:"modal"}),t._v(" "),e("a-tabs",{attrs:{type:"card",defaultActiveKey:"1",tabPosition:"left"}},[e("a-tab-pane",{key:"1",attrs:{tab:"部门"}},[e("a-table",{attrs:{columns:t.columns1,dataSource:t.data,pagination:t.pagination,loading:t.loading,defaultExpandAllRows:t.expandAllRows,size:"small"}})],1),t._v(" "),e("a-tab-pane",{key:"2",attrs:{tab:"岗位"}},[t._v("Content of tab 2")]),t._v(" "),e("a-tab-pane",{key:"3",attrs:{tab:"岗位权限配置"}},[t._v("Content of tab 3")])],1)],1)},staticRenderFns:[]};var m=e("VU/8")(c,r,!1,function(t){e("z2N1")},"data-v-a12b2b3e",null);a.default=m.exports},z2N1:function(t,a){}});
//# sourceMappingURL=6.bdd9e1f102af8d112afd.js.map